import{f as c,e as b,r as i,p as A,h as s,x as B,A as _,o as d,a as t,b as r,c as g,q as f,S as y,m as h,a9 as k,k as T}from"./index.a683e63c.js";import{v as V}from"./validateMessages.02f7ed2e.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const q={class:"flex space-x-5 mb-5"},z={class:"w-auto"},D=r("h3",{class:"p-2 border-2 border-gray-300 border-b-1 font-bold bg-gray-100"},"Table columns",-1),E=["disabled"],j={class:"w-auto"},F=r("h3",{class:"p-2 border-2 border-gray-300 border-b-1 font-bold bg-gray-100"},"Your columns",-1),L=["disabled"],H={__name:"PostsConfig",emits:["success","cancel"],setup(M,{emit:v}){const o=c({list1:[{key:"info",name:"Info"},{key:"title",name:"Title"},{key:"slug",name:"Slug"},{key:"status",name:"Status"}],list2:[{key:"id",name:"ID",disable:!0},{key:"name",name:"Name"},{key:"code",name:"Code"},{key:"email",name:"Email"},{key:"phone",name:"Phone"},{key:"address",name:"Address"},{key:"action",name:"Action",disable:!0}]}),x=["per_page","table_columns"],n=b(!1);b(null);const l=c({per_page:20}),C=c({validateTrigger:"submit","label-align":"top",model:l,labelCol:{span:24},wrapperCol:{span:24},"validate-messages":V});(function(){n.value=!0,_.get("config",{params:{names:x}}).then(e=>{Object.assign(l,e.data)}).catch(e=>{}).finally(n.value=!1)})();const w=async function(){n.value=!0,_.post("config",l).then(e=>{v("success",e)}).catch(e=>{}).finally(n.value=!1)},p=function(e){o.list1.splice(e.newIndex,0,o.list1.splice(e.oldIndex,1)[0]),o.list2.splice(e.oldIndex,0,o.list2.splice(e.newIndex,1)[0])};return(e,m)=>{const I=i("a-input-number"),u=i("a-form-item"),S=i("a-button"),N=i("a-space"),P=i("a-form");return d(),A(P,B({autocomplete:"off"},C,{onFinish:w}),{default:s(()=>[t(u,{name:"per_page",label:"Per Page",rules:[{required:!0}]},{default:s(()=>[t(I,{value:l.per_page,"onUpdate:value":m[0]||(m[0]=a=>l.per_page=a),size:"large",min:1,max:1e3},null,8,["value"])]),_:1}),r("div",q,[r("div",z,[D,t(h(k),{class:"border border-gray-300 list-group border-b-0",list:o.list1,group:"people",onChange:p,"item-key":"key"},{item:s(({element:a})=>[(d(),g("div",{class:y(["list-group-item border-b border-gray-300 bg-white p-2",{"pointer-events-none	opacity-50":a.disable}]),key:a.key,disabled:a.disable},f(a.name),11,E))]),_:1},8,["list"])]),r("div",j,[F,t(h(k),{name:"table_columns",class:"border border-gray-300 list-group border-b-0",list:o.list2,group:"people",onChange:p,"item-key":"key"},{item:s(({element:a})=>[(d(),g("div",{class:y(["list-group-item border-b border-gray-300 bg-white p-2",{"pointer-events-none	opacity-50":a.disable}]),key:a.key,disabled:a.disable},f(a.name),11,L))]),_:1},8,["list"])])]),t(u,null,{default:s(()=>[t(N,null,{default:s(()=>[t(S,{loading:n.value,type:"primary","html-type":"submit"},{default:s(()=>[T("Submit")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},16)}}};export{H as default};
