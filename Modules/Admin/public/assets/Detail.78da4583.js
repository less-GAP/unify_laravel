import{_ as Pe}from"./no_image_available.915c4da6.js";import{_ as oe,aF as Ie,r as u,o as s,c as m,K as Me,a as e,h as a,x as Z,b as w,k as c,p as y,l as d,F as D,n as L,q as Y,d as Ae,e as S,u as Ne,i as pe,I as qe,Z as xe,m as M,a7 as te,H as W,X as me,ak as Fe,A as Re,t as Be}from"./index.a683e63c.js";import{f as Le,a as Ee,c as Ve}from"./Patient.e2eb7f50.js";import{U as ze}from"./UseEloquentRouter.7e988003.js";import{_ as Te,a as Oe}from"./Detail.vue_vue_type_style_index_0_lang.203a6c28.js";import{l as je}from"./States.8ecfa29a.js";import{F as ce}from"./FormOutlined.646d2a07.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";import"./RemoteSelect.5cb10285.js";const Ge=["width","height","src","alt"];function He(n,r,X,Q,E,O){const h=u("upload-outlined"),C=u("a-button"),q=u("a-card"),k=u("a-upload"),l=u("SelectOutlined"),$=u("a-space"),U=u("a-image"),A=u("file-outlined"),x=u("a-image-preview-group"),F=u("FilePicker"),v=u("a-modal");return s(),m(D,null,[Me(n.$slots,"default"),e($,{class:"w-full mb-2"},{default:a(()=>[e(k,Z({multiple:n.multiple},n.$attrs,{customRequest:n.upload,openFileDialogOnClick:!0,withCredentials:!0,"list-type":n.listType,action:n.action,accept:n.accept,showUploadList:!1}),{default:a(()=>[w("div",null,[e(C,{size:"mini",loading:n.loading},{default:a(()=>[e(h),c(" Upload ")]),_:1},8,["loading"])]),!n.value&&n.placeholder?(s(),y(q,{key:0,shadow:"none",style:{display:"inline-block","margin-right":"5px","text-align":"center",position:"relative"}},{cover:a(()=>[w("img",{width:n.width,height:n.height,style:{"object-fit":"contain"},src:n.$url(n.placeholder),alt:n.alt},null,8,Ge)]),_:1})):d("",!0)]),_:1},16,["multiple","customRequest","list-type","action","accept"]),n.showSelect?(s(),y(C,Z({key:0,type:"primary",success:"",onClick:r[0]||(r[0]=_=>n.open=!0)},n.buttonConfig,{loading:n.loading}),{default:a(()=>[e(l),c(" Or Select ")]),_:1},16,["loading"])):d("",!0)]),_:1}),n.value?(s(),y(x,{key:0,style:{width:"100%",overflow:"auto",gap:"8px"}},{default:a(()=>[(s(!0),m(D,null,L(n.fileList,(_,P)=>(s(),y(q,{key:_.id,shadow:"none",style:{display:"inline-block","margin-right":"5px","text-align":"center",width:"200px",height:"200px",position:"relative"}},{cover:a(()=>[n.isImageUrl(_.site_path)?(s(),y(U,{key:0,style:{width:"200px",height:"200px","object-fit":"contain"},src:n.$url(_.site_path),alt:n.alt},null,8,["src","alt"])):(s(),y(A,{key:1,style:{margin:"auto","margin-top":"80px","font-size":"30px"}}))]),_:2},1024))),128))]),_:1})):d("",!0),e(v,{"append-to-body":"",open:n.open,"onUpdate:open":r[2]||(r[2]=_=>n.open=_),style:{top:"2vh",height:"98vh"},height:"96vh",width:"90vw",title:"Select file"},{footer:a(()=>[]),default:a(()=>[e(F,{multiple:n.multiple,onClose:r[1]||(r[1]=_=>n.open=!1),onSelect:n.onSelect},null,8,["multiple","onSelect"])]),_:1},8,["open"])],64)}const Ke=oe(Ie,[["render",He]]),Je={class:"my-4"},We=["src"],Ze={class:"py-4 flex justify-end"};function Xe(n,r,X,Q,E,O){const h=u("a-select-option"),C=u("a-select"),q=u("ApiData"),k=u("a-form-item"),l=u("a-col"),$=u("a-row"),U=u("a-input-number"),A=u("a-date-picker"),x=u("a-button"),F=u("a-form");return s(),y(F,{layout:"vertical",ref:"formRef",model:n.formState,onFinish:n.submit,class:"w-full"},{default:a(()=>[w("div",Je,[e($,{gutter:20},{default:a(()=>[e(l,{span:24},{default:a(()=>[e(k,{label:"Product",name:"product_id",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(q,{url:"product/all",method:"GET",params:{}},{default:a(({data:v})=>[e(C,{class:"w-[200px]",value:n.formState.product_id,"onUpdate:value":r[0]||(r[0]=_=>n.formState.product_id=_),placeholder:"Select product...","option-label-prop":"children",onChange:n.changeProduct},{default:a(()=>[(s(!0),m(D,null,L(v,(_,P)=>(s(),y(h,Z({key:P,value:_.id,label:_.name},_),{default:a(()=>[w("img",{src:_.image_url,class:"w-5 h-5 inline-block"},null,8,We),c("\xA0\xA0\xA0\xA0"+Y(_.name),1)]),_:2},1040,["value","label"]))),128))]),_:2},1032,["value","onChange"])]),_:1})]),_:1})]),_:1})]),_:1}),e($,{gutter:20},{default:a(()=>[e(l,{span:8},{default:a(()=>[e(k,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(U,{id:"inputNumber",value:n.formState.amount,"onUpdate:value":r[1]||(r[1]=v=>n.formState.amount=v),min:0,style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e($,{gutter:20},{default:a(()=>[e(l,{span:8},{default:a(()=>[e(k,{label:"Delivery Type",name:"delivery_type",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(C,{class:"w-[200px]",value:n.formState.delivery_type,"onUpdate:value":r[2]||(r[2]=v=>n.formState.delivery_type=v),placeholder:"Select type...","option-label-prop":"children",onChange:n.changeDelivery},{default:a(()=>[e(h,{value:"one_times"},{default:a(()=>[c("One Times")]),_:1}),e(h,{value:"weekly"},{default:a(()=>[c("Weekly")]),_:1}),e(h,{value:"monthly"},{default:a(()=>[c("Monthly")]),_:1}),e(h,{value:"yearly"},{default:a(()=>[c("Yearly")]),_:1})]),_:1},8,["value","onChange"])]),_:1})]),_:1}),n.formState.delivery_type?(s(),y(l,{key:0,span:8},{default:a(()=>[n.formState.delivery_type=="one_times"||n.formState.delivery_type=="yearly"?(s(),y(k,{key:0,label:"Delivery date",name:"delivery_date",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(A,{value:n.formState.delivery_date,"onUpdate:value":r[3]||(r[3]=v=>n.formState.delivery_date=v),"input-read-only":"","value-format":"YYYY-MM-DD",format:"MM-DD-YYYY",class:"w-full"},null,8,["value"])]),_:1})):d("",!0),n.formState.delivery_type=="weekly"?(s(),y(k,{key:1,label:"Delivery value",name:"delivery_value",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(C,{class:"w-[200px]",value:n.formState.delivery_value,"onUpdate:value":r[4]||(r[4]=v=>n.formState.delivery_value=v),placeholder:"Select type...",options:n.weeks},null,8,["value","options"])]),_:1})):d("",!0),n.formState.delivery_type=="monthly"?(s(),y(k,{key:2,label:"Delivery value",name:"delivery_value",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(C,{class:"w-[200px]",value:n.formState.delivery_value,"onUpdate:value":r[5]||(r[5]=v=>n.formState.delivery_value=v),placeholder:"Select type...","option-label-prop":"children",options:n.months},null,8,["value","options"])]),_:1})):d("",!0)]),_:1})):d("",!0)]),_:1}),w("div",Ze,[e(x,{type:"primary","html-type":"submit"},{default:a(()=>[c("Submit")]),_:1}),e(x,{type:"primary",ghost:"",onClick:r[6]||(r[6]=v=>n.back()),class:"ml-4"},{default:a(()=>[c("Back")]),_:1})])])]),_:1},8,["model","onFinish"])}const Qe=oe(Te,[["render",Xe]]),ea={class:"my-4"},aa={class:"py-4 flex justify-end"};function ta(n,r,X,Q,E,O){const h=u("a-select-option"),C=u("a-select"),q=u("ApiData"),k=u("a-form-item"),l=u("a-col"),$=u("a-input"),U=u("a-date-picker"),A=u("a-row"),x=u("a-button"),F=u("a-form");return s(),y(F,{layout:"vertical",ref:"formRef",model:n.formState,onFinish:n.submit,class:"w-full"},{default:a(()=>[w("div",ea,[e(A,{gutter:20},{default:a(()=>[e(l,{span:24},{default:a(()=>[e(k,{label:"Insurance Coverage",name:"coverage",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(q,{url:"master-data/insurance",method:"GET",params:{}},{default:a(({data:v})=>[e(C,{class:"w-[200px]",value:n.formState.coverage,"onUpdate:value":r[0]||(r[0]=_=>n.formState.coverage=_),placeholder:"Select coverage...","option-label-prop":"children",onChange:n.changeInsurance},{default:a(()=>[(s(!0),m(D,null,L(JSON.parse(v.data),(_,P)=>(s(),y(h,Z({key:P,value:_.value,label:_.label},_),{default:a(()=>[c(Y(_.label),1)]),_:2},1040,["value","label"]))),128))]),_:2},1032,["value","onChange"])]),_:1})]),_:1})]),_:1}),e(l,{span:24},{default:a(()=>[e(k,{label:"Insurance ID",name:"insurance_id",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e($,{value:n.formState.insurance_id,"onUpdate:value":r[1]||(r[1]=v=>n.formState.insurance_id=v),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),e(l,{span:24},{default:a(()=>[e(k,{label:"Active date",name:"active_date",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(U,{value:n.formState.active_date,"onUpdate:value":r[2]||(r[2]=v=>n.formState.active_date=v),"input-read-only":"","value-format":"YYYY-MM-DD",format:"MM-DD-YYYY",class:"w-full"},null,8,["value"])]),_:1})]),_:1}),e(l,{span:24},{default:a(()=>[e(k,{label:"Expired date",name:"expired_date",rules:[{required:!0,message:"Please input !"}]},{default:a(()=>[e(U,{value:n.formState.expired_date,"onUpdate:value":r[3]||(r[3]=v=>n.formState.expired_date=v),"input-read-only":"","value-format":"YYYY-MM-DD",format:"MM-DD-YYYY",class:"w-full"},null,8,["value"])]),_:1})]),_:1})]),_:1}),w("div",aa,[e(x,{type:"primary","html-type":"submit"},{default:a(()=>[c("Submit")]),_:1}),e(x,{type:"primary",ghost:"",onClick:r[4]||(r[4]=v=>n.back()),class:"ml-4"},{default:a(()=>[c("Back")]),_:1})])])]),_:1},8,["model","onFinish"])}const la=oe(Oe,[["render",ta]]),oa={key:1},na={class:"mx-4"},ua={key:0,class:"mb-5 bg-gray-100"},sa={class:"mx-4"},ra={class:"flex flex-row justify-end"},ia={class:"mt-5"},da={key:0,class:"flex flex-row items-center"},pa={class:"ml-4 font-semibold"},ma={class:"flex flex-row justify-end"},ca={class:"mt-5"},va={key:0,class:"flex flex-row items-center"},_a=["src","alt"],fa={key:1,class:"w-20 h-auto float-left",src:Pe},ya={class:"ml-4 font-semibold"},ba={key:0},ga={key:1},ka={key:2},ha={key:3},wa={key:0},Sa={key:1},Da={key:2},le="patient",qa=Ae({__name:"Detail",setup(n){const{fetchDetailApi:r,createApi:X,updateApi:Q}=ze(le);Le();const E=S([]),O=Ve(),h=S(!1),C=Ne(),q=pe.currentRoute.value,k=S(),l=S({unify_process:0,products:[],insurances:[]}),$=S(),U=S({log_detail:""}),A=S(0);(async function(){h.value=!0,q.name;var i=q.params.id;if(E.value=await Ee(),i>0){h.value=!0;var o=await r(i);if(o.data.status===200){const g=o.data.data;g.insurance_coverages=JSON.parse(g.insurance_coverages),l.value=g,l.value.products||(l.value.products=[]),h.value=!1,A.value=l.value.unify_process}else xe.error({message:"Error",description:o.data.message}),setTimeout(()=>{ue()},3e3)}else l.value.sale_user=C.user.id,l.value.unify_process=0,A.value=0,h.value=!1})();const F=i=>{k.value.validate().then(()=>{l.value.id>0&&(P.value=!0)}).catch(o=>{})},v=i=>{Fe.error("Please input required!")},_=i=>{k.value.validate().then(()=>{i=="eligibility_check"&&(l.value.unify_process=1),P.value=!0})},P=S(!1),ve=()=>{P.value=!1},ne=()=>{$.value.validate().then(()=>{k.value.log_detail=U.log_detail,Re.post(le,Be(l.value)).then(i=>{i.data.code==1&&(P.value=!1,$.value.resetFields())})})},R=S(!1),_e=S([{title:"#",dataIndex:"stt",key:"stt",width:50,render:(i,o,g)=>(++g,g)},{title:"Product",dataIndex:"id",key:"id"},{title:"Amount",dataIndex:"amount",key:"amount",width:150,align:"center"},{title:"Delivery Type",dataIndex:"delivery_type",key:"delivery_type",width:250},{title:"Delivery date",dataIndex:"delivery_date",key:"delivery_date",width:150},{title:"Action",dataIndex:"action",key:"action",width:100}]),V=S({}),fe=i=>{console.log(i);var o=!0;l.value.products.forEach((g,T)=>{g.product_id==i.product_id&&(l.value.products[T]=i,o=!1)}),o&&l.value.products.push(i),R.value=!1},ye=()=>{V.value={},R.value=!0},be=i=>{V.value=i,R.value=!0},ge=i=>{l.value.products.forEach((o,g)=>{o.id==i.id&&l.value.products.splice(g,1)})},B=S(!1),ke=S([{title:"#",dataIndex:"stt",key:"stt",width:50,render:(i,o,g)=>(++g,g)},{title:"Insurance Coverage",dataIndex:"coverage",key:"coverage"},{title:"Insurance ID",dataIndex:"insurance_id",key:"insurance_id",width:200},{title:"Active date",dataIndex:"active_date",key:"active_date",width:200},{title:"Expired date",dataIndex:"expired_date",key:"expired_date",width:200},{title:"Action",dataIndex:"action",key:"action",width:100}]),z=S({}),he=i=>{console.log(i);var o=!0;l.value.insurances.forEach((g,T)=>{g.insurance_id==i.insurance_id&&(l.value.insurances[T]=i,o=!1)}),o&&l.value.insurances.push(i),B.value=!1},we=()=>{z.value={},B.value=!0},Se=i=>{z.value=i,B.value=!0},De=i=>{l.value.insurances.forEach((o,g)=>{o.id==i.id&&l.value.insurances.splice(g,1)})},ue=()=>{pe.push("/"+le)};return(i,o)=>{const g=u("a-skeleton"),T=u("a-steps"),se=u("a-divider"),j=u("a-select"),b=u("a-form-item"),f=u("a-col"),Ye=u("a-date-picker"),G=u("a-row"),N=u("a-input"),H=u("a-textarea"),ee=u("a-select-option"),Ce=u("a-input-number"),K=u("a-tab-pane"),I=u("a-button"),re=u("a-popconfirm"),ie=u("a-table"),$e=u("a-tabs"),Ue=u("a-space"),de=u("a-form"),ae=u("a-modal");return s(),m(D,null,[e(qe,null,{default:a(()=>[h.value?(s(),y(g,{key:0,active:"",class:"p-10"})):(s(),m("div",oa,[w("div",na,[l.value.id>0?(s(),m("div",ua,[e(T,{current:A.value,"onUpdate:current":o[0]||(o[0]=t=>A.value=t),type:"navigation",size:"small",items:[{title:"Waiting",description:""},{title:"Eligibility Check",description:"",disabled:!0},{title:"Running",description:"",disabled:!0},{title:"Finshed",description:"",disabled:!0}]},null,8,["current"])])):d("",!0)]),e(de,{layout:"vertical",ref_key:"formRef",ref:k,model:l.value,onFinish:F,onFinishFailed:v},{default:a(()=>[w("div",sa,[e($e,{activeKey:i.activeKey,"onUpdate:activeKey":o[24]||(o[24]=t=>i.activeKey=t),onChange:i.tabActive},{default:a(()=>[e(K,{key:"1",tab:"General"},{default:a(()=>[e(se,{orientation:"left"},{default:a(()=>[c("Infomation")]),_:1}),d("",!0),e(G,{gutter:20},{default:a(()=>[e(f,{span:8},{default:a(()=>[e(b,{label:"ID Number",name:"unify_number",rules:[{required:!0,message:"Please enter ID number!"}]},{default:a(()=>[e(N,{value:l.value.unify_number,"onUpdate:value":o[3]||(o[3]=t=>l.value.unify_number=t),placeholder:"ID Number..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"First Name",name:"first_name",rules:[{required:!0,message:"Please enter first name!"}]},{default:a(()=>[e(N,{value:l.value.first_name,"onUpdate:value":o[4]||(o[4]=t=>l.value.first_name=t),placeholder:"First Name..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Last Name",name:"last_name",rules:[{required:!0,message:"Please enter last name!"}]},{default:a(()=>[e(N,{value:l.value.last_name,"onUpdate:value":o[5]||(o[5]=t=>l.value.last_name=t),placeholder:"Last Name..."},null,8,["value"])]),_:1})]),_:1}),d("",!0),e(f,{span:8},{default:a(()=>[e(b,{label:"Date of Birth",name:"dob",required:""},{default:a(()=>[e(Ye,{value:l.value.dob,"onUpdate:value":o[7]||(o[7]=t=>l.value.dob=t),valueFormat:"YYYY-MM-DD",format:"MM-DD-YYYY",inputReadOnly:"",class:"w-full",placeholder:"Date of Birth..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please enter gender!"}]},{default:a(()=>[e(j,{value:l.value.gender,"onUpdate:value":o[8]||(o[8]=t=>l.value.gender=t),allowClear:"true",class:"w-full",options:[{value:0,label:"Male"},{value:1,label:"Female"}],placeholder:"Gender..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please enter phone!"}]},{default:a(()=>[e(N,{value:l.value.phone,"onUpdate:value":o[9]||(o[9]=t=>l.value.phone=t),class:"w-full",placeholder:"Phone..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Email",name:"email",rules:[{type:"email",message:"The input is not valid email!"}]},{default:a(()=>[e(N,{value:l.value.email,"onUpdate:value":o[10]||(o[10]=t=>l.value.email=t),placeholder:"Email..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Note",name:"note"},{default:a(()=>[e(H,{class:"!rounded-none w-full",value:l.value.note,"onUpdate:value":o[11]||(o[11]=t=>l.value.note=t),"auto-size":{minRows:2,maxRows:10},placeholder:"Note..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Data",name:"unify_data"},{default:a(()=>[e(H,{class:"!rounded-none w-full",value:l.value.unify_data,"onUpdate:value":o[12]||(o[12]=t=>l.value.unify_data=t),"auto-size":{minRows:2,maxRows:10},placeholder:"Data..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:24},{default:a(()=>[e(b,{label:"Gallery",name:"unify_data"},{default:a(()=>[e(M(Ke),{value:l.value.images,"onUpdate:value":o[13]||(o[13]=t=>l.value.images=t)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(se,{orientation:"left"},{default:a(()=>[c("Address")]),_:1}),e(G,{gutter:20},{default:a(()=>[e(f,{span:8},{default:a(()=>[e(b,{label:"Street",name:"street",rules:[{required:!0,message:"Please enter street!"}]},{default:a(()=>[e(N,{value:l.value.street,"onUpdate:value":o[14]||(o[14]=t=>l.value.street=t),class:"w-full",placeholder:"Street..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"City",name:"city",rules:[{required:!0,message:"Please enter city!"}]},{default:a(()=>[e(N,{value:l.value.city,"onUpdate:value":o[15]||(o[15]=t=>l.value.city=t),class:"w-full",placeholder:"City..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"State",name:"state",rules:[{required:!0,message:"Please enter state!"}]},{default:a(()=>[e(j,{value:l.value.state,"onUpdate:value":o[16]||(o[16]=t=>l.value.state=t),allowClear:"",class:"w-full",showSearch:"",placeholder:"Select a state"},{default:a(()=>[(s(!0),m(D,null,L(M(je),t=>(s(),y(ee,{key:t.value,value:t.label},{default:a(()=>[c(Y(t.label)+" ("+Y(t.value)+") ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Zip",name:"zip",rules:[{required:!0,message:"Please enter zip!"}]},{default:a(()=>[e(Ce,{value:l.value.zip,"onUpdate:value":o[17]||(o[17]=t=>l.value.zip=t),class:"!w-full",placeholder:"Zip..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Route",name:"route",rules:[{required:!0,message:"Please enter route!"}]},{default:a(()=>[e(N,{value:l.value.route,"onUpdate:value":o[18]||(o[18]=t=>l.value.route=t),class:"w-full",placeholder:"Route..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Apt",name:"apt",rules:[{message:"Please enter apt!"}]},{default:a(()=>[e(N,{value:l.value.apt,"onUpdate:value":o[19]||(o[19]=t=>l.value.apt=t),class:"w-full",placeholder:"Apt..."},null,8,["value"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(b,{label:"Sub-r",name:"sub_r",rules:[{message:"Please enter sub-r!"}]},{default:a(()=>[e(N,{value:l.value.sub_r,"onUpdate:value":o[20]||(o[20]=t=>l.value.sub_r=t),class:"w-full",placeholder:"Sub-r..."},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),e(K,{key:"2",tab:"Insurance"},{default:a(()=>[w("div",ra,[e(I,{onClick:we},{default:a(()=>[c("Add Insurance")]),_:1})]),w("div",ia,[e(ie,{"data-source":l.value.insurances,columns:ke.value,bordered:"",pagination:!1,triped:""},{bodyCell:a(({column:t,record:p})=>[t.key==="coverage"?(s(),m("div",da,[w("label",pa,Y(p.coverage.label),1)])):d("",!0),t.key==="active_date"?(s(),m(D,{key:1},[c(Y(M(te)(p.active_date,"YYYY-MM-DD").format("MM-DD-YYYY")),1)],64)):d("",!0),t.key==="expired_date"?(s(),m(D,{key:2},[c(Y(M(te)(p.expired_date,"YYYY-MM-DD").format("MM-DD-YYYY")),1)],64)):d("",!0),t.key==="action"?(s(),m(D,{key:3},[e(I,{type:"text",icon:W(M(ce)),label:"",outline:!0,onClick:J=>Se(p)},null,8,["icon","onClick"]),e(re,{title:"Do you want delete this?","ok-text":"Yes","cancel-text":"No",onConfirm:J=>De(p)},{default:a(()=>[e(I,{type:"text",danger:"",icon:W(M(me)),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])],64)):d("",!0)]),_:1},8,["data-source","columns"])])]),_:1}),e(K,{key:"3",tab:"Doctor"},{default:a(()=>[e(G,{gutter:20},{default:a(()=>[e(f,{span:12},{default:a(()=>[e(b,{label:"Doctor",name:"doctor"},{default:a(()=>[e(j,{value:l.value.doctor_id,"onUpdate:value":o[21]||(o[21]=t=>l.value.doctor_id=t),allowClear:"",class:"w-full",showSearch:"",placeholder:"Select a doctor"},{default:a(()=>[(s(!0),m(D,null,L(E.value,(t,p)=>(s(),y(ee,{key:t.value,value:parseInt(t.value)},{default:a(()=>[c(Y(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),e(f,{span:12},{default:a(()=>[e(b,{label:"Doctor status",name:"doctor_status"},{default:a(()=>[e(j,{value:l.value.doctor_status,"onUpdate:value":o[22]||(o[22]=t=>l.value.doctor_status=t),allowClear:"",class:"w-full",placeholder:"Select a status"},{default:a(()=>[(s(!0),m(D,null,L(M(O),(t,p)=>(s(),y(ee,{key:t.value,value:t.value},{default:a(()=>[c(Y(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),e(f,{span:24},{default:a(()=>[e(b,{label:"Doctor note",name:"doctor_comment"},{default:a(()=>[e(H,{class:"!rounded-none w-full",value:l.value.doctor_comment,"onUpdate:value":o[23]||(o[23]=t=>l.value.doctor_comment=t),placeholder:"Doctor note","auto-size":{minRows:2,maxRows:10}},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),l.value.id>0?(s(),y(K,{key:"4",tab:"Products"},{default:a(()=>[w("div",ma,[e(I,{onClick:ye},{default:a(()=>[c("Add Product")]),_:1})]),w("div",ca,[e(ie,{"data-source":l.value.products,columns:_e.value,bordered:"",pagination:!1,triped:""},{bodyCell:a(({column:t,record:p})=>[t.key==="id"?(s(),m("div",va,[p.product.image_url?(s(),m("img",{key:0,class:"w-20 h-auto float-left",src:p.product.image_url,alt:p.product.name},null,8,_a)):(s(),m("img",fa)),w("label",ya,Y(p.product.name),1)])):d("",!0),t.key==="delivery_type"?(s(),m(D,{key:1},[p.delivery_type=="one_times"?(s(),m("label",ba,"One Times")):d("",!0),p.delivery_type=="weekly"?(s(),m("label",ga,"Weekly")):d("",!0),p.delivery_type=="monthly"?(s(),m("label",ka,"Monthly")):d("",!0),p.delivery_type=="yearly"?(s(),m("label",ha,"Yearly")):d("",!0)],64)):d("",!0),t.key==="delivery_date"?(s(),m(D,{key:2},[p.delivery_type=="one_times"||p.delivery_type=="yearly"?(s(),m("label",wa,Y(M(te)(p.delivery_date,"YYYY-MM-DD").format("MM-DD-YYYY")),1)):d("",!0),p.delivery_type=="monthly"?(s(),m("label",Sa,Y(p.delivery_value),1)):d("",!0),p.delivery_type=="weekly"?(s(),m("label",Da,Y(p.delivery_option.label),1)):d("",!0)],64)):d("",!0),t.key==="action"?(s(),m(D,{key:3},[e(I,{type:"text",icon:W(M(ce)),label:"",outline:!0,onClick:J=>be(p)},null,8,["icon","onClick"]),e(re,{title:"Do you want delete this?","ok-text":"Yes","cancel-text":"No",onConfirm:J=>ge(p)},{default:a(()=>[e(I,{type:"text",danger:"",icon:W(M(me)),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])],64)):d("",!0)]),_:1},8,["data-source","columns"])])]),_:1})):d("",!0)]),_:1},8,["activeKey","onChange"]),e(Ue,{align:"center",class:"pt-5"},{default:a(()=>[M(C).hasPermission("Patient.EligibilityCheckApprove")&&l.value.unify_process==0&&l.value.id>0?(s(),y(I,{key:0,onClick:o[25]||(o[25]=t=>_("eligibility_check")),type:"primary",class:"!bg-green-500 hover:!bg-green-400"},{default:a(()=>[c(" Approve ")]),_:1})):d("",!0),e(I,{type:"primary","html-type":"submit"},{default:a(()=>[c("Submit")]),_:1}),e(I,{type:"primary",ghost:"",onClick:o[26]||(o[26]=t=>ue())},{default:a(()=>[c("Back")]),_:1})]),_:1})])]),_:1},8,["model"])]))]),_:1}),e(ae,{"append-to-body":"",open:R.value,"onUpdate:open":o[28]||(o[28]=t=>R.value=t),zIndex:10,width:"50%",title:"Select Product",closable:!0,footer:null,maskClosable:!1},{default:a(()=>[(s(),y(Qe,{value:V.value,onClose:o[27]||(o[27]=t=>R.value=!1),onSelect:fe,key:V.value.product?V.value.product.id:0},null,8,["value"]))]),_:1},8,["open"]),e(ae,{"append-to-body":"",open:B.value,"onUpdate:open":o[30]||(o[30]=t=>B.value=t),zIndex:10,width:"50%",title:"Select Insurance",closable:!0,footer:null,maskClosable:!1},{default:a(()=>[(s(),y(la,{value:z.value,onClose:o[29]||(o[29]=t=>B.value=!1),onSelect:he,key:z.value.coverage?z.value.coverage.id:0},null,8,["value"]))]),_:1},8,["open"]),e(ae,{open:P.value,"onUpdate:open":o[33]||(o[33]=t=>P.value=t),title:"Confirm for change",width:"50%",closable:!0,maskClosable:!1},{footer:a(()=>[e(I,{key:"back",onClick:ve},{default:a(()=>[c("Back")]),_:1}),e(I,{key:"submit",type:"primary",loading:h.value,onClick:ne},{default:a(()=>[c("Submit")]),_:1},8,["loading"])]),default:a(()=>[e(de,{layout:"vertical",ref_key:"formRefLog",ref:$,model:U.value,onFinish:ne},{default:a(()=>[e(G,{gutter:20},{default:a(()=>[e(f,{span:24},{default:a(()=>[e(b,{label:"Note for this change",name:"log_detail",rules:[{required:!0,message:"Please enter note..."}]},{default:a(()=>[e(H,{class:"!rounded-none w-full",value:U.value.log_detail,"onUpdate:value":o[31]||(o[31]=t=>U.value.log_detail=t),placeholder:"Make a note of any changes you make to the patient record","auto-size":{minRows:4,maxRows:10}},null,8,["value"])]),_:1},8,["rules"])]),_:1}),e(f,{span:24},{default:a(()=>[d("",!0)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])],64)}}});export{qa as default};
