import{e as v,v as D,i as h,r as s,c as B,a as o,h as t,x as N,m as i,F as E,o as l,H as k,p as r,k as u,q as m,l as d}from"./index.a683e63c.js";import{D as F}from"./DataTable.1047e308.js";import{U as R}from"./UseEloquentRouter.7e988003.js";import{U as q}from"./UseDataTable.106f51b0.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const H="email",g="/email/history",K={__name:"indexHistory",setup(O){const{fetchListApi:y,createApi:P,deleteApi:S,updateApi:w}=R(H);v(!1);const C=q(y,{columns:[{title:"Title",key:"email_title"},{title:"Email To",key:"email_to"},{title:"Status",key:"status",width:100},{title:"Created at",key:"created_at",width:200}],listActions:[],itemActions:[{label:"View",action:(a,b)=>{h.push(g+"/"+a.id)}}]});let p=()=>{};D(h.currentRoute,a=>{a.path===g&&p()});function x({reload:a}){p=a}return(a,b)=>{const _=s("a-button"),A=s("a-popconfirm"),T=s("a-image"),c=s("a-tag"),U=s("a-switch"),V=s("router-view");return l(),B(E,null,[o(i(F),N({onRegister:x},i(C)),{"cellAction[delete]":t(({item:e,actionMethod:n})=>[o(A,{title:"B\u1EA1n mu\u1ED1n x\xF3a s\u1EA3n ph\u1EA9m n\xE0y?","ok-text":"Yes","cancel-text":"No",onConfirm:n},{default:t(()=>[o(_,{type:"text",danger:"",icon:k(a.DeleteOutlined),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])]),"cellAction[edit]":t(({item:e,actionMethod:n})=>[o(_,{class:"mr-5",type:"text",icon:k(a.FormOutlined),label:"",outline:!0,onClick:n},null,8,["icon","onClick"])]),"cell[image]":t(({item:e,column:n})=>[o(T,{height:"50px",class:"w-20 h-auto",src:e.image,alt:e.name},null,8,["src","alt"])]),"cell[status]":t(({item:e,column:n})=>[e.status=="waiting"?(l(),r(c,{key:0,color:"warning"},{default:t(()=>[u(m(e.status),1)]),_:2},1024)):d("",!0),e.status=="success"?(l(),r(c,{key:1,color:"success"},{default:t(()=>[u(m(e.status),1)]),_:2},1024)):d("",!0),e.status=="error"?(l(),r(c,{key:2,color:"red"},{default:t(()=>[u(m(e.status),1)]),_:2},1024)):d("",!0)]),"cell[is_default]":t(({item:e,column:n})=>[o(U,{onChange:f=>i(w)(e.id,{is_default:e.is_default}),checkedValue:1,unCheckedValue:0,checked:e.is_default,"onUpdate:checked":f=>e.is_default=f},null,8,["onChange","checked","onUpdate:checked"])]),_:1},16),o(V)],64)}}};export{K as default};
