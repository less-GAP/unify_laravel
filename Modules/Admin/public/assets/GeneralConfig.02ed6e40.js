import{e as c,f as d,r as s,p as U,h as l,x as w,A as f,o as S,a as t,m as r,k,b as q}from"./index.a683e63c.js";import{v as L}from"./validateMessages.02f7ed2e.js";import{I as p}from"./InputUploadGetPath.6754ab8e.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const N=q("div",{class:"small"},"https://source.unsplash.com/random/?screenprinting",-1),P={__name:"GeneralConfig",emits:["success","cancel"],setup(B,{emit:g}){const v=["site_title","site_logo","site_icon","site_description","copy_right","site_login_bg","site_login_bg_dynamic"],u=c(!1);c(null);const e=d({}),b=d({validateTrigger:"submit","label-align":"top",model:e,labelCol:{span:24},wrapperCol:{span:24},"validate-messages":L});(function(){u.value=!0,f.get("config",{params:{names:v}}).then(i=>{Object.assign(e,i.data)}).catch(i=>{}).finally(u.value=!1)})();const y=async function(){u.value=!0,f.post("config",e).then(i=>{g("success",i)}).catch(i=>{}).finally(u.value=!1)};return(i,o)=>{const _=s("a-input"),n=s("a-form-item"),m=s("a-textarea"),h=s("a-button"),x=s("a-space"),C=s("a-form");return S(),U(C,w({autocomplete:"off"},b,{onFinish:y}),{default:l(()=>[t(n,{name:"site_title",label:"Site title",rules:[{required:!0}]},{default:l(()=>[t(_,{showCount:!0,maxlength:"55",autocomplete:"off",value:e.site_title,"onUpdate:value":o[0]||(o[0]=a=>e.site_title=a)},null,8,["value"])]),_:1}),t(n,{name:"site_description",label:"Site description",rules:[{required:!0}]},{default:l(()=>[t(m,{showCount:!0,maxlength:"160",autocomplete:"off",value:e.site_description,"onUpdate:value":o[1]||(o[1]=a=>e.site_description=a)},null,8,["value"])]),_:1}),t(n,{name:"copy_right",label:"Copyright",rules:[{required:!0}]},{default:l(()=>[t(m,{autocomplete:"off",value:e.copy_right,"onUpdate:value":o[2]||(o[2]=a=>e.copy_right=a)},null,8,["value"])]),_:1}),t(n,{name:"site_login_bg",label:"Login background"},{default:l(()=>[t(r(p),{width:"200px",alt:"Site logo",autocomplete:"off",value:e.site_login_bg,"onUpdate:value":o[3]||(o[3]=a=>e.site_login_bg=a)},null,8,["value"])]),_:1}),t(n,{name:"site_login_bg_dynamic",label:"Dynamic Login background (URL)"},{default:l(()=>[t(_,{autocomplete:"off","addon-before":"https://source.unsplash.com/random/?","addon-after":"/",class:"rounded-lg",value:e.site_login_bg_dynamic,"onUpdate:value":o[4]||(o[4]=a=>e.site_login_bg_dynamic=a)},null,8,["value"]),N]),_:1}),t(n,{name:"site_logo",label:"Site Logo",rules:[{required:!0}]},{default:l(()=>[t(r(p),{width:"200px",alt:"Site logo",autocomplete:"off",value:e.site_logo,"onUpdate:value":o[5]||(o[5]=a=>e.site_logo=a)},null,8,["value"])]),_:1}),t(n,{name:"site_icon",label:"Favicon",rules:[{required:!0}]},{default:l(()=>[t(r(p),{width:"200px",alt:"Favicon",autocomplete:"off",value:e.site_icon,"onUpdate:value":o[6]||(o[6]=a=>e.site_icon=a)},null,8,["value"])]),_:1}),t(n,null,{default:l(()=>[t(x,null,{default:l(()=>[t(h,{loading:u.value,type:"primary","html-type":"submit"},{default:l(()=>[k("Submit")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},16)}}};export{P as default};
