import{ar as je,a7 as U,f as oe,e as N,u as Be,r as v,p as h,h as o,i as Q,Z as Ue,o as a,a as l,b as e,m as t,ab as y,ae as he,q as g,k as f,c as d,l as r,F as R,n as S,a4 as Ne,as as Re,at as Se,au as Ve,av as ze,am as Ee,aw as qe,al as ve,ax as ge,ay as xe,az as Fe,aA as Je,x as ae,aB as Ke,N as Ge,aC as ne,aD as Ie,aE as We,A as ie}from"./index.a683e63c.js";import{D as Ze}from"./DataTable.1047e308.js";import{u as Qe}from"./Patient.e2eb7f50.js";import{U as ye}from"./UseEloquentRouter.7e988003.js";import{c as Xe,w as et,r as ke,d as tt,g as E,S as be}from"./Task.26f018dd.js";import{U as st}from"./UseDataTable.106f51b0.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";var we={exports:{}};(function(X,ce){(function(L,c){X.exports=c()})(je,function(){return function(L,c,P){L=L||{};var D=c.prototype,b={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function I(_,w,M,q){return D.fromToBase(_,w,M,q)}P.en.relativeTime=b,D.fromToBase=function(_,w,M,q,F){for(var W,C,H,x=M.$locale().relativeTime||b,A=L.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=A.length,O=0;O<p;O+=1){var T=A[O];T.d&&(W=q?P(_).diff(M,T.d,!0):M.diff(_,T.d,!0));var Y=(L.rounding||Math.round)(Math.abs(W));if(H=W>0,Y<=T.r||!T.r){Y<=1&&O>0&&(T=A[O-1]);var j=x[T.l];F&&(Y=F(""+Y)),C=typeof j=="string"?j.replace("%d",Y):j(Y,w,T.l,H);break}}if(w)return C;var V=H?x.future:x.past;return typeof V=="function"?V(C):V.replace("%s",C)},D.to=function(_,w){return I(_,w,this,!0)},D.from=function(_,w){return I(_,w,this)};var $=function(_){return _.$u?P.utc():P()};D.toNow=function(_){return this.to($(this),_)},D.fromNow=function(_){return this.from($(this),_)}}})})(we);const lt=we.exports;const ot={class:"p-3 bg-gray-200"},at={class:"flex"},nt=e("span",{class:"ml-1 text-stone-500"},"Back",-1),it={class:"flex"},rt=e("span",{class:"ml-1 text-stone-500"},"Back",-1),ct={class:"px-4 mt-5 overflow-y-auto",style:{height:"calc(100% - 60px)"}},dt={class:"flex flex-wrap -mx-4"},ut={class:"flex flex-col w-full px-4"},_t={class:"flex items-center leading-none whitespace-nowrap"},mt={class:"text-sm text-gray-400"},ft={key:0,class:"mb-2 text-xs text-stone-400"},pt={class:"w-full px-4 bg-gray-100"},ht={class:"flex items-center font-medium"},vt={class:"flex flex-wrap items-center flex-grow text-gray-900"},gt={key:0,class:"w-full p-8 mt-5 bg-yellow-100 border-red-400 rounded-xl"},xt=e("div",{class:"flex items-center mb-6"},[e("svg",{class:"w-8 h-8 text-indigo-500 stroke-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),e("h4",{class:"ml-3 text-lg font-semibold"},"Need to do")],-1),yt={class:"listNeedToDo"},kt=["id","value"],bt=["for"],wt=e("span",{class:"flex items-center justify-center w-5 h-5 text-transparent border-2 border-gray-900 rounded-full"},[e("svg",{class:"hidden w-4 h-4 fill-black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Ct={class:"ml-4 text-sm"},Tt={class:"w-full pb-4"},Dt={key:1,class:""},Mt={key:0,class:"relative flex flex-col items-start p-4 mt-3 bg-white rounded-lg cursor-pointer bg-opacity-90 group hover:bg-opacity-100",draggable:"true"},Ht={class:"absolute top-0 right-0 flex items-center mt-3 mr-2 space-x-1 action"},At=["onClick"],Ot={key:0,color:"red",class:"text-xs text-red-900"},Yt=["innerHTML"],Lt={class:"flex items-center w-full mt-3 text-xs font-medium text-gray-400"},Pt={class:"flex items-center"},$t={key:0,class:"w-4 h-4 text-gray-300 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},jt=e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"},null,-1),Bt=[jt],Ut=["innerHTML"],Nt={key:0,class:"flex ml-auto"},Rt=["src"],St={key:0,class:"w-full px-4 pb-3 bg-gray-100"},Vt={key:0,class:"relative flex flex-col items-start p-4 mt-3 bg-white rounded-lg cursor-pointer bg-opacity-90 group hover:bg-opacity-100",draggable:"true"},zt={class:"absolute top-0 right-0 flex items-center mt-3 mr-2 space-x-1 action"},Et=e("span",null,"Done",-1),qt=e("span",null,"Trashed",-1),Ft=["onClick"],Jt=["innerHTML"],Kt={class:"flex items-center w-full mt-3 text-xs font-medium text-gray-400"},Gt={class:"flex items-center"},It={key:0,class:"w-4 h-4 text-gray-300 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Wt=e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"},null,-1),Zt=[Wt],Qt=["innerHTML"],Xt={key:0,class:"flex ml-auto"},es=["src"],ts={class:"flex flex-wrap -mx-2"},ss={class:"w-full px-2"},ls={class:"detail"},os={class:"mb-4"},as=e("h5",{class:""},"Description:",-1),ns={class:"text-gray-400"},is={class:"my-5"},rs={class:"grid gap-3 sm:grid-cols-3"},cs={class:"col-span-1"},ds=e("p",{class:"text-gray-400"},"Assigned To",-1),us={class:"space-y-1"},_s=["src"],ms={class:"ml-1"},fs={class:"font-medium"},ps={class:"col-span-1"},hs=e("p",{class:"text-gray-400"},"Patient",-1),vs={class:"flex items-center gap-3 mt-1"},gs={class:""},xs={class:"font-medium"},ys={class:"text-xs text-stone-400"},ks={class:"col-span-1"},bs=e("p",{class:"text-gray-400"},"Due Date",-1),ws={class:"flex items-center gap-3 mt-1"},Cs={class:"ml-1"},Ts={class:"font-medium"},Ds={class:"comment"},Ms={class:"flex items-center"},Hs=["src"],As={class:"mx-2 by"},Os={class:"ml-auto text-xs text-gray-500"},Ys={class:"text-xs"},Ls={class:""},Ps={class:"mt-4"},$s={class:"flex gap-2"},js={class:"w-full"},Bs=e("h5",{class:"mb-2 font-semibold"},[f("Jeremy Tomlinson "),e("small",{class:"float-right"},"5 hours ago")],-1),Us=e("p",null,"Nice work, makes me think of The Money Pit.",-1),Ns={href:"javascript: void(0);",class:"flex items-center mt-2 text-xs font-light !text-stone-500"},Rs={class:"mt-4"},Ss={class:"flex gap-2"},Vs={class:"w-full"},zs=e("h5",{class:"mb-2 font-semibold"},[f("Thelma Fridley "),e("small",{class:"float-right"},"3 hours ago")],-1),Es=e("p",null,"i'm in the middle of a timelapse animation myself! (Very different though.) Awesome stuff.",-1),qs={href:"javascript: void(0);",class:"flex items-center mt-2 text-xs font-light !text-stone-500"},Fs={class:"mt-4"},Js={class:"flex gap-2"},Ks={class:"w-full"},Gs=e("h5",{class:"mb-2 font-semibold"},[f("Kevin Martinez "),e("small",{class:"float-right"},"1 day ago")],-1),Is=e("p",null,"It would be very nice to have.",-1),Ws={href:"javascript: void(0);",class:"flex items-center mt-2 text-xs font-light !text-stone-500"},Zs={class:"border mt-7"},Qs=e("textarea",{rows:"3",class:"w-full border-0 focus:outline-0 focus:border-0 focus:ring-0",placeholder:"Your comment..."},null,-1),Xs={class:"flex items-center justify-between px-3 py-2 bg-gray-50"},el={href:"#",class:"inline-block px-1 hover:bg-light hover:text-slate-900"},tl={href:"#",class:"inline-block px-1 hover:bg-light hover:text-slate-900"},re="patient",sl="YYYY-MM-DD",ml={__name:"Task",props:{value:{type:Object,default:{}},visible:{type:Boolean,default:!0}},setup(X){U.extend(lt);const{fetchDetailApi:ce,updateApi:L}=ye(re),c=oe({tasks:[]}),P=N(),D=N(!1),b=Be(),I=Qe();var $=[];const _=async function(){D.value=!0,$=[];var i=Q.currentRoute.value.params.id;const n=await ce(i);if(n.data.status===200){const k=n.data.data;Object.assign(c,k,!0),I.forEach(z=>{c[z.key]==z.check&&$.push({value:z.key,label:z.noti})})}else Ue.error({message:"Error",description:n.data.message}),Q.replace({path:"/"+re});D.value=!1};_();const w=()=>{P.value.validate().then(()=>{L(c.id,{...c}).then(i=>{Object.assign(c,i.data.result)})})},M=function(){Q.replace({path:"/"+re})},q=function(){return ie.get("user/all")};var F=[];(async function(){F=(await q()).data.map(n=>(n.label=n.full_name,n.value=n.id,n))})();const C=N(!1),H=N(!1),x=oe({}),A=N(!1),p=oe({}),O=N(),T=function(i){return ie.post("task",i)},Y=function(){var i=document.querySelectorAll(".listNeedToDo input:checked"),n="";i.forEach(k=>{n+="- "+k.value+`
`}),p.description=n,p.assignees=[c.sale_user],p.name="Check & Update for "+c.full_name,C.value=!0},j=N(null),V=function(i){Object.assign(x,i);const{fetchListApi:n}=ye("activity",{order:"-id"});j.value=st(n,{showSelection:!1,globalSearch:!1,pagination:{perPage:10},filter:{subject_id:x.id,subject_type:"App\\Models\\Task"}}),H.value=!0},Ce=()=>{O.value.validate().then(()=>{p.created_by=b.user.id,p.patient_id=c.id,p.assignees=JSON.stringify(p.assignees);try{A.value=!0,T({...p}).then(i=>{A.value=!1,C.value=!1,_()})}catch(i){console.log(i)}})},Te=async function(i){const n=await ie.get("task/"+i);Object.assign(p,n.data),C.value=!0},ee=function(i){if(!i)return!1;if(i.deadline_at)return U(i.deadline_at).isBefore(U())},te=function(i){return i!==null&&typeof i=="string"?i.replace(/\n/g,"<br>"):""},De=function(i){},Me=i=>i?"("+U().diff(U(i,sl),"year")+" years old)":"-";return(i,n)=>{const k=v("a-button"),z=v("a-space"),de=v("a-Divider"),B=v("a-tooltip"),ue=v("a-popconfirm"),J=v("a-tag"),K=v("a-avatar-group"),se=v("a-form"),He=v("a-input"),Z=v("a-form-item"),Ae=v("a-date-picker"),Oe=v("a-select"),Ye=v("a-textarea"),_e=v("a-modal"),me=v("a-divider"),Le=v("a-timeline-item"),Pe=v("a-timeline"),le=v("a-avatar"),$e=v("a-drawer");return a(),h($e,{closable:!1,style:{position:"relative",display:"flex","flex-direction":"column",height:"100vh"},open:X.visible,width:"70vw",onClose:M},{default:o(()=>[l(se,ae(i.$config.formConfig,{ref_key:"formRef",ref:P,layout:"vertical",model:c,onFinish:w}),{default:o(()=>{var u;return[e("div",ot,[l(k,{class:"!hidden md:!inline-block",type:"link",onClick:M},{icon:o(()=>[e("div",at,[l(t(y),{path:t(he),class:"w-4 text-stone-500"},null,8,["path"]),nt])]),_:1}),l(k,{class:"!inline-flex items-center justify-center md:!hidden !w-8 !h-8 !p-0",type:"link",onClick:M},{icon:o(()=>[e("div",it,[l(t(y),{path:t(he),class:"w-4 text-stone-500"},null,8,["path"]),rt])]),_:1}),l(z,{class:"float-right"})]),e("div",ct,[e("div",dt,[e("h1",ut,[e("div",_t,[e("span",null,g(c.full_name),1)]),e("div",mt,[f(" #"+g(c.unify_number)+" - ",1),c.sale_user?(a(),d("span",ft,"Seller: "+g((u=c.seller)==null?void 0:u.full_name),1)):r("",!0)])]),l(de,{class:"!font-bold !text-blue-700",dashed:"",orientation:"left","orientation-margin":"1rem",plain:""},{default:o(()=>[f("List tasks of "+g(c.full_name),1)]),_:1}),e("div",pt,[e("div",ht,[e("div",vt,[t($).length>0?(a(),d("div",gt,[xt,e("div",yt,[(a(!0),d(R,null,S(t($),s=>(a(),d("div",{key:s.value},[e("input",{id:s.value,class:"hidden",type:"checkbox",value:s.label},null,8,kt),e("label",{class:"flex items-center h-10 px-2 rounded-lg cursor-pointer hover:bg-white",for:s.value},[wt,e("span",Ct,g(s.label),1)],8,bt)]))),128))])])):r("",!0),e("div",Tt,[i.$auth.hasPermission("task.assign")?(a(),h(k,{key:0,class:"mt-4",type:"primary",onClick:Y},{default:o(()=>[l(t(Ne)),f(" Add Task ")]),_:1})):r("",!0),c.tasks.length>0?(a(),d("div",Dt,[(a(!0),d(R,null,S(c.tasks,s=>(a(),d("div",{key:s.id,class:""},[s.deleted!=1&&s.task_process!=3?(a(),d("div",Mt,[e("div",Ht,[l(B,{title:"Complete"},{default:o(()=>[(t(b).hasPermission("task.assign")||s.assignees&&s.assignees.includes(t(b).user.id)||t(b).hasPermission("task.review"))&&s.is_completed===0?(a(),h(k,{key:0,type:"link",class:"!px-0",onClick:m=>t(Xe)(s.id,_)},{default:o(()=>[l(t(y),{path:t(Re),class:"text-current hover:text-green-500"},null,8,["path"])]),_:2},1032,["onClick"])):r("",!0)]),_:2},1024),l(B,{title:s.task_process===0?"Working":"Pending"},{default:o(()=>[(t(b).hasPermission("task.working")||s.assignees&&s.assignees.includes(t(b).user.id)||t(b).hasPermission("task.review"))&&s.is_completed===0?(a(),h(k,{key:0,type:"link",class:"!px-0",onClick:m=>t(et)(s.id,_,s.task_process===1)},{default:o(()=>[l(t(y),{path:s.task_process===0?t(Se):t(Ve),class:"text-current hover:text-blue-500"},null,8,["path"])]),_:2},1032,["onClick"])):r("",!0)]),_:2},1032,["title"]),l(B,{title:"Review"},{default:o(()=>[l(ue,{placement:"leftBottom",title:"Review this task","ok-text":"Accept Done","cancel-text":"Reject",onConfirm:m=>t(ke)(s.id,!0,_),onCancel:m=>t(ke)(s.id,!1,_)},{default:o(()=>[t(b).hasPermission("task.review")&&s.is_completed==1?(a(),h(k,{key:0,type:"link",class:"!px-0"},{default:o(()=>[l(t(y),{path:t(ze),class:"text-current hover:text-green-500"},null,8,["path"])]),_:1})):r("",!0)]),_:2},1032,["onConfirm","onCancel"])]),_:2},1024),l(B,{title:"Edit"},{default:o(()=>[t(b).hasPermission("task.edit")&&s.is_completed!==1?(a(),h(k,{key:0,type:"link",class:"!px-0",onClick:m=>Te(s.id)},{default:o(()=>[l(t(y),{path:t(Ee),class:"text-current hover:text-blue-500"},null,8,["path"])]),_:2},1032,["onClick"])):r("",!0)]),_:2},1024),l(B,{title:"Delete"},{default:o(()=>[l(ue,{title:"Are you sure delete this task?","ok-text":"Yes","cancel-text":"No"},{default:o(()=>[t(b).hasPermission("task.delete")&&s.is_completed!==1?(a(),h(k,{key:0,type:"link",danger:"",class:"!px-0",onClick:m=>t(tt)(s.id,_)},{default:o(()=>[l(t(y),{path:t(qe),class:"text-current hover:text-orange-500"},null,8,["path"])]),_:2},1032,["onClick"])):r("",!0)]),_:2},1024)]),_:2},1024)]),e("h4",{style:ve(ee(s)?"color: red;":""),class:"text-sm font-medium"},[t(E)(s.task_process)?(a(),h(J,{key:0,color:t(E)(s.task_process).color,class:"!mr-2"},{icon:o(()=>[s.task_process===3?(a(),h(t(ge),{key:0})):r("",!0),s.task_process===1?(a(),h(t(be),{key:1,spin:!0})):r("",!0),[null,0].includes(s.task_process)?(a(),h(t(xe),{key:2})):r("",!0)]),default:o(()=>[f(" "+g(t(E)(s.task_process).label),1)]),_:2},1032,["color"])):r("",!0),e("a",{onClick:m=>V(s)},[f(g(s.name),1),ee(s)?(a(),d("span",Ot," (Out date)")):r("",!0)],8,At)],4),e("div",{class:"text-xs text-gray-400",innerHTML:te(s.description)},null,8,Yt),e("div",Lt,[e("div",Pt,[s.deadline_at?(a(),d("svg",$t,Bt)):r("",!0),s.deadline_at?(a(),d("span",{key:1,class:"ml-1 leading-none",innerHTML:s.deadline_at?t(U)(s.deadline_at).format("HH:mm MM-DD-YYYY"):""},null,8,Ut)):r("",!0)]),s.assignees!==void 0?(a(),d("div",Nt,[(a(!0),d(R,null,S(s.assignees,m=>(a(),d("div",{key:i.id_assignee,class:"item-assignee"},[l(B,{title:m.full_name,placement:"top"},{default:o(()=>[e("img",{class:"w-8 h-8 rounded-full",src:m==null?void 0:m.profile_photo_url,alt:"user photo"},null,8,Rt)]),_:2},1032,["title"])]))),128))])):r("",!0)])])):r("",!0)]))),128))])):r("",!0)])])])]),c.tasks.length>0?(a(),d("div",St,[l(de,{class:"!font-bold !text-blue-700",dashed:"",orientation:"left","orientation-margin":"0",plain:""},{default:o(()=>[f("Recent history ")]),_:1}),(a(!0),d(R,null,S(c.tasks,s=>(a(),d("div",{key:s.id,class:""},[s.deleted!=1&&s.task_process==3?(a(),d("div",Vt,[e("div",zt,[s.task_process===3&&s.deleted!=1?(a(),h(J,{key:0,color:"green",class:"!flex items-center"},{default:o(()=>[l(t(y),{path:t(Fe),class:"!text-green-500 !mr-1"},null,8,["path"]),Et]),_:1})):r("",!0),s.deleted!=0?(a(),h(J,{key:1,color:"red",class:"!flex items-center"},{default:o(()=>[l(t(y),{path:t(Je),class:"!text-red-500 !mr-1"},null,8,["path"]),qt]),_:1})):r("",!0)]),e("h4",{style:ve(ee(s)?"color: red;":""),class:"mt-3 text-sm font-medium"},[e("a",{onClick:m=>V(s)},g(s.name),9,Ft)],4),e("div",{class:"text-xs text-gray-400",innerHTML:te(s.description)},null,8,Jt),e("div",Kt,[e("div",Gt,[s.deadline_at?(a(),d("svg",It,Zt)):r("",!0),s.deadline_at?(a(),d("span",{key:1,class:"ml-1 leading-none",innerHTML:s.deadline_at?t(U)(s.deadline_at).format("HH:mm MM-DD-YYYY"):""},null,8,Qt)):r("",!0)]),s.assignees!==void 0?(a(),d("div",Xt,[(a(!0),d(R,null,S(s.assignees,m=>(a(),d("div",{key:m.id,class:"item-assignee"},[l(K,null,{default:o(()=>[l(B,{title:m.full_name,placement:"top"},{default:o(()=>[e("img",{class:"w-8 h-8 rounded-full",src:m==null?void 0:m.profile_photo_url,alt:"user photo"},null,8,es)]),_:2},1032,["title"])]),_:2},1024)]))),128))])):r("",!0)])])):r("",!0)]))),128))])):r("",!0)])])]}),_:1},16,["model"]),l(_e,{open:C.value,"onUpdate:open":n[4]||(n[4]=u=>C.value=u),"append-to-body":"",title:"Add Task","confirm-loading":A.value,onOk:Ce},{default:o(()=>[l(se,ae(i.$config.formConfig,{ref_key:"formTaskRef",ref:O,layout:"vertical",model:p}),{default:o(()=>[l(Z,{label:"Task name",required:"",name:"name"},{default:o(()=>[l(He,{value:p.name,"onUpdate:value":n[0]||(n[0]=u=>p.name=u)},null,8,["value"])]),_:1}),e("div",ts,[e("div",ss,[l(Z,{label:"Due date",name:"deadline_at"},{default:o(()=>[l(Ae,{value:p.deadline_at,"onUpdate:value":n[1]||(n[1]=u=>p.deadline_at=u),class:"w-full","show-time":{format:"HH:mm"},"input-read-only":"","value-format":"YYYY-MM-DD HH:mm:ss",format:"HH:mm MM-DD-YYYY"},null,8,["value"])]),_:1})])]),l(Z,{label:"Assignees",name:"assignees",required:""},{default:o(()=>[l(Oe,{value:p.assignees,"onUpdate:value":n[2]||(n[2]=u=>p.assignees=u),options:t(F),mode:"multiple"},null,8,["value","options"])]),_:1}),l(Z,{label:"Description",name:"description"},{default:o(()=>[l(Ye,{value:p.description,"onUpdate:value":n[3]||(n[3]=u=>p.description=u),rows:4},null,8,["value"])]),_:1})]),_:1},16,["model"])]),_:1},8,["open","confirm-loading"]),l(_e,{open:H.value,"onUpdate:open":n[8]||(n[8]=u=>H.value=u),"append-to-body":"",title:x.name,width:"1000px","confirm-loading":A.value},{footer:o(()=>[l(k,{key:"submit",type:"primary",onClick:n[7]||(n[7]=()=>{H.value=!1})},{default:o(()=>[f("Ok ")]),_:1})]),default:o(()=>[e("div",ls,[e("div",os,[t(E)(x.task_process)?(a(),h(J,{key:0,color:t(E)(x.task_process).color},{icon:o(()=>[x.task_process===3?(a(),h(t(ge),{key:0})):r("",!0),x.task_process===1?(a(),h(t(be),{key:1,spin:!0})):r("",!0),[null,0].includes(x.task_process)?(a(),h(t(xe),{key:2})):r("",!0)]),default:o(()=>[f(" "+g(t(E)(x.task_process).label),1)]),_:1},8,["color"])):r("",!0)]),as,e("div",ns,g(x.description),1),e("div",is,[e("div",rs,[e("div",cs,[ds,e("div",us,[(a(!0),d(R,null,S(x.assignees,u=>(a(),d("div",{key:u.id,class:"flex items-center item-assignee"},[l(K,null,{default:o(()=>[e("img",{class:"w-8 h-8 rounded-full",src:u==null?void 0:u.profile_photo_url,alt:"user photo"},null,8,_s)]),_:2},1024),e("div",ms,[e("h5",fs,g(u.full_name),1)])]))),128))])]),e("div",ps,[hs,e("div",vs,[e("div",gs,[e("h5",xs,[e("a",{onClick:n[5]||(n[5]=u=>t(Q).replace("/patient/"+c.id+"/edit"))},"[#"+g(c.unify_number)+"] "+g(c.full_name),1)]),e("p",ys,g(Me(c.dob)),1)])])]),e("div",ks,[bs,e("div",ws,[l(t(y),{path:t(Ke)},null,8,["path"]),e("div",Cs,[e("h5",Ts,g(x.deadline_at),1)])])])])])]),e("div",Ds,[l(me,{class:"!font-bold !text-blue-700",dashed:"",orientation:"left","orientation-margin":"0",plain:""},{default:o(()=>[f("Logs ")]),_:1}),j.value?(a(),h(t(Ze),Ge(ae({key:0},j.value)),{table:o(({tableConfig:u,tableData:s,data:m,columns:ll,selectionActions:ol,reload:al})=>[m.length>0?(a(),h(Pe,{key:0,class:"!m-5"},{default:o(()=>[(a(!0),d(R,null,S(m,G=>(a(),h(Le,{color:"green",class:"!mb-5"},{default:o(()=>{var fe,pe;return[e("div",Ms,[e("img",{class:"w-6 h-6 rounded-full",src:(fe=G.causer)==null?void 0:fe.profile_photo_url},null,8,Hs),e("div",As,g((pe=G.causer)==null?void 0:pe.full_name),1),l(J,null,{default:o(()=>[f(g(G.event),1)]),_:2},1024),e("div",Os," at "+g(i.$format.formatDateTime(G.created_at)),1)]),e("div",Ys,g(te(G.description)),1)]}),_:2},1024))),256))]),_:2},1024)):r("",!0)]),_:1},16)):r("",!0),l(se,null,{default:o(()=>[l(me,{class:"!font-bold !text-blue-700",dashed:"",orientation:"left","orientation-margin":"0",plain:""},{default:o(()=>[f("Comments ")]),_:1}),e("div",Ls,[e("div",Ps,[e("div",$s,[l(K,null,{default:o(()=>[l(le,{style:{"background-color":"blue"}},{default:o(()=>[f("J")]),_:1})]),_:1}),e("div",js,[Bs,Us,e("a",Ns,[l(t(y),{path:t(ne),class:"inline-block !text-current"},null,8,["path"]),f(" Reply ")]),e("div",Rs,[e("div",Ss,[l(K,null,{default:o(()=>[l(le,{style:{"background-color":"yellow",color:"#333"}},{default:o(()=>[f("T")]),_:1})]),_:1}),e("div",Vs,[zs,Es,e("a",qs,[l(t(y),{path:t(ne),class:"inline-block !text-current"},null,8,["path"]),f(" Reply ")])])])])])])]),e("div",Fs,[e("div",Js,[l(K,null,{default:o(()=>[l(le,{style:{"background-color":"orange"}},{default:o(()=>[f("K")]),_:1})]),_:1}),e("div",Ks,[Gs,Is,e("a",Ws,[l(t(y),{path:t(ne),class:"inline-block !text-current"},null,8,["path"]),f(" Reply ")])])])])]),e("div",Zs,[Qs,e("div",Xs,[e("div",null,[e("a",el,[l(t(y),{path:t(Ie)},null,8,["path"])]),e("a",tl,[l(t(y),{path:t(We)},null,8,["path"])])]),l(k,{onClick:n[6]||(n[6]=u=>De(x.id)),type:"primary",class:"uppercase"},{default:o(()=>[f("Send")]),_:1})])])]),_:1})])]),_:1},8,["open","title","confirm-loading"])]),_:1},8,["open"])}}};export{ml as default};
