import{d as F,u as I,e as m,r as u,p as f,h as e,I as K,i as U,o as c,a,b as L,l as v,k as r,a5 as T,c as z,n as G,q as O,F as M,A as j,t as H}from"./index.a683e63c.js";import{U as J}from"./UseEloquentRouter.7e988003.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const Q={class:"mx-4"};const y="user",le=F({__name:"Detail",setup(W){const{fetchDetailApi:C}=J(y);I();const b=m(!1),w=m("1"),h=m(),t=m({isNew:!0,status:"active"});(async function(){b.value=!0;var d=parseInt(U.currentRoute.value.params.id);if(d>0){const l=await C(d);t.value=l.data,t.value.isNew=!1,b.value=!1}else t.value.isNew=!0,b.value=!1})();const q=()=>{h.value.validate().then(()=>{j.post(y,H(t.value)).then(d=>{d.data.code==1&&k()})})},k=()=>{U.push("/"+y)};return(d,l)=>{const Y=u("a-textarea"),_=u("a-form-item"),s=u("a-col"),n=u("a-row"),x=u("a-radio-button"),B=u("a-radio-group"),i=u("a-select-option"),S=u("a-select"),g=u("a-input"),Z=u("a-checkbox"),V=u("LockOutlined"),A=u("a-input-password"),P=u("a-tab-pane"),R=u("a-tabs"),N=u("a-button"),D=u("a-space"),$=u("a-form");return c(),f(K,null,{default:e(()=>[a($,{autocomplete:"off",layout:"vertical",model:t.value,ref_key:"formRef",ref:h,onFinish:q},{default:e(()=>[L("div",Q,[a(R,{activeKey:w.value,"onUpdate:activeKey":l[9]||(l[9]=o=>w.value=o),onChange:d.tabActive},{default:e(()=>[a(P,{key:"1",tab:"General"},{default:e(()=>[a(n,{gutter:20},{default:e(()=>[a(s,{span:24},{default:e(()=>[v("",!0)]),_:1})]),_:1}),a(n,{gutter:20},{default:e(()=>[a(s,{span:12},{default:e(()=>[a(_,{label:"Status",name:"status",rules:[{required:!0,message:"Select a status!"}]},{default:e(()=>[a(B,{value:t.value.status,"onUpdate:value":l[1]||(l[1]=o=>t.value.status=o),"button-style":"solid",size:"middle"},{default:e(()=>[a(x,{value:"active"},{default:e(()=>[r("Active")]),_:1}),a(x,{value:"inactive"},{default:e(()=>[r("InActive")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),a(n,{gutter:20},{default:e(()=>[a(s,{span:12},{default:e(()=>[a(_,{label:"Type",name:"type",rules:[{required:!0,message:"Please input your password!"}]},{default:e(()=>[a(S,{class:"w-[200px]",value:t.value.type,"onUpdate:value":l[2]||(l[2]=o=>t.value.type=o),placeholder:"Select type...",clearable:""},{default:e(()=>[a(i,{value:"user"},{default:e(()=>[r("User")]),_:1}),a(i,{value:"shipper"},{default:e(()=>[r("Shipper")]),_:1}),a(i,{value:"shipper"},{default:e(()=>[r("Seller")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),a(n,{gutter:20},{default:e(()=>[t.value.isNew?(c(),f(s,{key:0,span:12},{default:e(()=>[a(_,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your password!"}]},{default:e(()=>[a(g,{value:t.value.username,"onUpdate:value":l[3]||(l[3]=o=>t.value.username=o),autocomplete:"off",placeholder:"Username..."},null,8,["value"])]),_:1})]),_:1})):v("",!0)]),_:1}),a(n,{gutter:20},{default:e(()=>[a(s,{span:12},{default:e(()=>[a(_,{label:"Full Name",name:"full_name",rules:[{required:!0,message:"Please input !"}]},{default:e(()=>[a(g,{value:t.value.full_name,"onUpdate:value":l[4]||(l[4]=o=>t.value.full_name=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(n,{gutter:20},{default:e(()=>[a(s,{span:12},{default:e(()=>[a(_,{label:"Email",name:"email",rules:[{required:!0,message:"Please input !"}]},{default:e(()=>[a(g,{value:t.value.email,"onUpdate:value":l[5]||(l[5]=o=>t.value.email=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(n,{gutter:20},{default:e(()=>[a(s,{span:12},{default:e(()=>[a(_,{label:"Role",name:"roles_id",rules:[{required:!0,message:"Please input !"}]},{default:e(()=>[a(T,{url:"roles/all",method:"GET",params:{}},{default:e(({data:o})=>[a(S,{class:"w-[200px]",value:t.value.roles_id,"onUpdate:value":l[6]||(l[6]=p=>t.value.roles_id=p),mode:"multiple",placeholder:"Select product...","option-label-prop":"children"},{default:e(()=>[(c(!0),z(M,null,G(o,(p,E)=>(c(),f(i,{key:E,value:p.id,label:p.name},{default:e(()=>[r(O(p.name),1)]),_:2},1032,["value","label"]))),128))]),_:2},1032,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),v("",!0),a(n,{gutter:20},{default:e(()=>[t.value.isNew?(c(),f(s,{key:0,span:12},{default:e(()=>[a(_,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},{default:e(()=>[a(A,{value:t.value.password,"onUpdate:value":l[8]||(l[8]=o=>t.value.password=o),autocomplete:"off"},{prefix:e(()=>[a(V,{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1},8,["activeKey","onChange"]),a(D,{align:"center",class:"pt-5"},{default:e(()=>[a(N,{type:"primary","html-type":"submit"},{default:e(()=>[r("Submit")]),_:1}),a(N,{type:"primary",ghost:"",onClick:l[10]||(l[10]=o=>k())},{default:e(()=>[r("Back")]),_:1})]),_:1})])]),_:1},8,["model"])]),_:1})}}});export{le as default};
