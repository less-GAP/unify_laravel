import{e as w,v as y,i as u,r as c,c as v,a,h as o,x as U,m as i,F as T,o as D,H as _}from"./index.a683e63c.js";import{D as V}from"./DataTable.1047e308.js";import{U as R}from"./UseEloquentRouter.7e988003.js";import{U as B}from"./UseDataTable.106f51b0.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const E="email-template",d="/email/templates",j={__name:"indexTemplates",setup(F){const{fetchListApi:f,createApi:N,deleteApi:k,updateApi:m}=R(E);w(!1);const g=B(f,{columns:[{title:"Title",key:"email_title"},{title:"Reply To",key:"email_reply_to"},{title:"Status",key:"status",width:100},{title:"Created at",key:"created_at",width:200}],listActions:[{label:"Add",action:t=>{u.replace(d+"/new")}}],itemActions:[{label:"Edit",action:(t,s)=>{u.push(d+"/"+t.id)}},{label:"Delete",class:"font-medium !text-red-600 !dark:text-red-500 hover:underline",confirm:!0,action(t,s){k(t.id).then(r=>{}).finally(()=>{s()})}}]});let p=()=>{};y(u.currentRoute,t=>{t.path===d&&p()});function C({reload:t}){p=t}return(t,s)=>{const r=c("a-button"),b=c("a-popconfirm"),x=c("a-image"),h=c("a-switch"),A=c("router-view");return D(),v(T,null,[a(i(V),U({onRegister:C},i(g)),{"cellAction[delete]":o(({item:e,actionMethod:n})=>[a(b,{title:"B\u1EA1n mu\u1ED1n x\xF3a s\u1EA3n ph\u1EA9m n\xE0y?","ok-text":"Yes","cancel-text":"No",onConfirm:n},{default:o(()=>[a(r,{type:"text",danger:"",icon:_(t.DeleteOutlined),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])]),"cellAction[edit]":o(({item:e,actionMethod:n})=>[a(r,{class:"mr-5",type:"text",icon:_(t.FormOutlined),label:"",outline:!0,onClick:n},null,8,["icon","onClick"])]),"cell[image]":o(({item:e,column:n})=>[a(x,{height:"50px",class:"w-20 h-auto",src:e.image,alt:e.name},null,8,["src","alt"])]),"cell[status]":o(({item:e,column:n})=>[a(h,{onChange:l=>i(m)(e.id,{status:e.status}),checkedValue:"active",unCheckedValue:"inactive",checked:e.status,"onUpdate:checked":l=>e.status=l},null,8,["onChange","checked","onUpdate:checked"])]),"cell[is_default]":o(({item:e,column:n})=>[a(h,{onChange:l=>i(m)(e.id,{is_default:e.is_default}),checkedValue:1,unCheckedValue:0,checked:e.is_default,"onUpdate:checked":l=>e.is_default=l},null,8,["onChange","checked","onUpdate:checked"])]),_:1},16),a(A)],64)}}};export{j as default};
