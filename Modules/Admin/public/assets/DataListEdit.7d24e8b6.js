import{_ as z,af as K,r as s,ag as R,o,c as i,b as u,a as n,h as l,k as _,q as b,p,l as v,K as k,F as f,n as I,P as S,N as $,O as j,x as c,C as q}from"./index.a683e63c.js";const x={style:{"margin-bottom":"15px"}},L={class:"ant-table ant-table-ping-right ant-table-layout-fixed ant-table-fixed-header ant-table-fixed-column ant-table-scroll-horizontal ant-table-has-fix-right ant-table-small ant-table-bordered"},J={class:"ant-table-container"},T={class:"ant-table-thead"},G={class:"ant-table-cell ant-table-cell-ellipsis",scope:"col"},H={class:"ant-table-measure-row"},M=["data-label"],Q={key:0,style:{width:"80px"}};function W(e,d,X,Y,Z,ee){const D=s("PlusOutlined"),m=s("a-button"),g=s("a-space"),U=s("BaseIcon"),V=s("DeleteOutlined"),E=s("a-input-number"),O=s("a-switch"),h=s("a-input"),B=s("draggable"),w=s("a-form-item"),C=s("a-form"),P=s("a-modal"),F=s("a-textarea"),A=s("a-drawer"),N=R("class");return o(),i(f,null,[u("div",x,[n(g,{class:"float-left"},{default:l(()=>[n(m,{onClick:d[0]||(d[0]=a=>e.newValue.push({}))},{icon:l(()=>[n(D)]),default:l(()=>[_(" "+b(e.__("Add Row")),1)]),_:1}),e.editColumn?(o(),p(m,{key:0,style:{"margin-right":"15px"},onClick:d[1]||(d[1]=a=>{e.showAddColumn=!0,e.columnForm={}}),type:"primary"},{default:l(()=>[_(b(e.__("Add Column")),1)]),_:1})):v("",!0)]),_:1}),n(g,{class:"float-right"},{default:l(()=>[e.drawEdit?(o(),p(m,{key:0,onClick:e.showDrawEdit,class:"float-right",type:"dashed",warning:""},{default:l(()=>[_("Draw Edit")]),_:1},8,["onClick"])):v("",!0),k(e.$slots,"action")]),_:3})]),u("div",L,[u("div",J,[u("table",null,[u("thead",T,[u("tr",null,[(o(!0),i(f,null,I(e.getColumns(),(a,y)=>S((o(),i("th",G,[k(e.$slots,"column",$(j({column:a})),()=>[a.dataIndex=="action"?(o(),i(f,{key:0},[],64)):(o(),i(f,{key:1},[_(b(a.title)+" ",1),e.editColumn&&a.dataIndex!=="action"?(o(),p(m,{key:0,size:"small",onClick:t=>e.columns.splice(y-1,1),style:{float:"right"},type:"link",danger:""},{icon:l(()=>[n(U,{icon:"ion:remove-outline"})]),_:2},1032,["onClick"])):v("",!0)],64))])])),[[N,a.class]])),256))])]),n(B,c(e.dragOptions,{modelValue:e.newValue,"onUpdate:modelValue":d[2]||(d[2]=a=>e.newValue=a),itemKey:"value",class:"ant-table-tbody",handle:".drag-handle",tag:"tbody"}),{item:l(({element:a,index:y})=>[u("tr",H,[(o(!0),i(f,null,I(e.getColumns(),t=>(o(),i("td",{"data-label":t.title,scope:"row"},[t.dataIndex=="action"?(o(),i("div",Q,[n(m,{onClick:r=>e.newValue.splice(y,1),style:{"margin-left":"10px"},type:"link",danger:""},{icon:l(()=>[n(V)]),_:2},1032,["onClick"])])):k(e.$slots,"bodyCell["+t.dataIndex+"]",$(c({key:1},{record:a,column:t})),()=>[t.type=="number"?(o(),p(E,c({key:0},t.props,{min:t.min,formatter:r=>`${r}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:r=>r.replace(/\$\s?|(,*)/g,""),value:a[t.dataIndex],"onUpdate:value":r=>a[t.dataIndex]=r}),null,16,["min","formatter","parser","value","onUpdate:value"])):t.type=="switch"?(o(),p(O,c({key:1},t.props,{checked:a[t.dataIndex],"onUpdate:checked":r=>a[t.dataIndex]=r}),null,16,["checked","onUpdate:checked"])):t.type=="component"?(o(),p(q(t.component),c({key:2},t.props,{value:a[t.dataIndex],"onUpdate:value":r=>a[t.dataIndex]=r}),null,16,["value","onUpdate:value"])):(o(),p(h,c({key:3},t.props,{value:a[t.dataIndex],"onUpdate:value":r=>a[t.dataIndex]=r}),null,16,["value","onUpdate:value"]))])],8,M))),256))])]),_:3},16,["modelValue"])])])]),n(P,{title:"Add Column",open:e.showAddColumn,onOk:e.addColumn},{default:l(()=>[n(C,{style:{margin:"20px"},ref:"formRef",model:e.columnForm,layout:"vertical",name:"form_in_modal"},{default:l(()=>[n(w,{name:"key",label:"Column Key",rules:[{required:!0,message:"Please input group name!"}]},{default:l(()=>[n(h,{value:e.columnForm.dataIndex,"onUpdate:value":d[3]||(d[3]=a=>e.columnForm.dataIndex=a)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","onOk"]),n(A,{title:"Draw edit",open:e.showEdit,"onUpdate:open":d[5]||(d[5]=a=>e.showEdit=a),width:"50vw"},{default:l(()=>[n(C,{"label-position":"top","label-width":"200px"},{default:l(()=>[n(w,{label:"Data"},{default:l(()=>[e.showEdit?(o(),p(F,{key:0,rows:"10",value:e.jsonEdit,"onUpdate:value":d[4]||(d[4]=a=>e.jsonEdit=a)},null,8,["value"])):v("",!0)]),_:1}),n(m,{class:"mt-5",type:"primary",onClick:e.saveJson},{default:l(()=>[_("Submit")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["open"])],64)}const te=z(K,[["render",W]]);export{te as D};
