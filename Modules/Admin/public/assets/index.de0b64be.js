import{u as P,i as x,v as R,r as d,p as r,h as o,I as U,o as c,a as i,m as s,x as V,H as w,aa as B,X as E,b as a,q as n,ab as g,ac as F,l as u,ad as G,k as _,a7 as f,L as H}from"./index.a683e63c.js";import{D as I}from"./DataTable.1047e308.js";import{U as $}from"./UseEloquentRouter.7e988003.js";import{U as q}from"./UseDataTable.106f51b0.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const L={class:"flex flex-row items-center"},O={class:"pl-1"},j={class:"flex"},z=a("strong",null,"Tel:",-1),X={class:"block max-w-[380px] truncate"},J=a("br",null,null,-1),K={class:"text-[11px] text-gray-400"},m="doctor",Q="MM-DD-YYYY",v="YYYY-MM-DD",le={__name:"index",setup(W){const{fetchListApi:D,deleteApi:Y}=$(m),h=P(),A=t=>(console.log(t),t?f(t,v).format(Q):"-"),C=t=>t.dob?"("+f().diff(f(t.dob,v),"year")+" years old)":"-",S=q(D,{showSelection:!0,showSort:!1,showReload:!0,columns:[{title:"Gender",key:"gender",width:80},{title:"Doctor",key:"full_name",width:""},{title:"Dob",key:"dob",width:100},{title:"Info",key:"info",width:400},{title:"Created at",key:"created_at",width:130},{title:"Publish date",key:"unify_active",width:130},{title:"Status",key:"status",width:100}],listActions:[],itemActions:[{ifShow:h.hasPermission("Doctor.update"),label:"Edit",key:"edit",show:()=>!0,action:t=>{x.push(m+"/"+t.id)}},{ifShow:h.hasPermission("Doctor.delete"),label:"Delete",key:"delete",class:"font-medium !text-red-600 dark:text-red-500 hover:underline",confirm:!0,action(t,k){Y(t.id).then(p=>{}).finally(()=>{k()})}}],addAction:{action:t=>{x.push(m+"/0")},ifShow:h.hasPermission("Doctor.create")}});let b=()=>{};R(x.currentRoute,t=>{t.path==="/"+m&&b()});function M({reload:t}){b=t}return(t,k)=>{const p=d("a-button"),T=d("a-popconfirm"),y=d("a-tag"),N=d("router-view");return c(),r(U,null,{default:o(()=>[i(H,null,{default:o(()=>[i(s(I),V(s(S),{onRegister:M}),{"cellAction[edit]":o(({item:e,actionMethod:l})=>[i(p,{type:"text",primary:"",onClick:l,icon:w(s(B)),label:"",outline:!0},null,8,["onClick","icon"])]),"cellAction[delete]":o(({item:e,actionMethod:l})=>[i(T,{title:"Are you sure delete this doctor?","ok-text":"Yes","cancel-text":"No",onConfirm:l},{default:o(()=>[i(p,{type:"text",danger:"",icon:w(s(E)),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])]),"cell[id]":o(({item:e,column:l})=>[a("div",null,n(e.id),1)]),"cell[gender]":o(({item:e,column:l})=>[e.gender===0?(c(),r(s(g),{key:0,path:s(F),class:"flex-none !text-blue-600"},null,8,["path"])):u("",!0),e.gender===1?(c(),r(s(g),{key:1,path:s(G),class:"flex-none text-pink-600"},null,8,["path"])):u("",!0)]),"cell[full_name]":o(({item:e,column:l})=>[a("div",L,[a("span",O,n(e.full_name),1)])]),"cell[info]":o(({item:e,column:l})=>[a("div",j,[a("div",null,[z,_(" "+n(e.phone),1)])]),a("div",X,n(e.address)+", "+n(e.city)+", "+n(e.state)+", "+n(e.zip),1)]),"cell[unify_active]":o(({item:e,column:l})=>[a("small",null,n(e.unify_active?s(f)(e.unify_active).format("HH:mm MM-DD-YYYY"):"-"),1)]),"cell[dob]":o(({item:e,column:l})=>[a("small",null,n(A(e.dob)),1),J,a("span",K,n(C(e)),1)]),"cell[status]":o(({item:e,column:l})=>[e.status=="0"?(c(),r(y,{key:0,color:"green"},{default:o(()=>[_("Active")]),_:1})):u("",!0),e.status=="1"?(c(),r(y,{key:1,color:"cyan"},{default:o(()=>[_("Inactive")]),_:1})):u("",!0),e.status=="2"?(c(),r(y,{key:2,color:"red"},{default:o(()=>[_("Trashed")]),_:1})):u("",!0)]),_:1},16),i(N)]),_:1})]),_:1})}}};export{le as default};
