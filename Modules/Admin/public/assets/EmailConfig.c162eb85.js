import{e as u,f as _,r as o,p as C,h as s,x,A as i,o as K,a as l,m as p,k as E}from"./index.a683e63c.js";import{v as N}from"./validateMessages.02f7ed2e.js";import{R as c}from"./RemoteSelect.5cb10285.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const A={__name:"EmailConfig",emits:["success","cancel"],setup(R,{emit:f}){const d=u(),g=["email_template_register","email_template_thankyou"],n=u(!1);u(null);const e=_({}),v=_({validateTrigger:"submit","label-align":"top",model:e,labelCol:{span:24},wrapperCol:{span:24},"validate-messages":N});(function(){n.value=!0,i.get("user/all").then(a=>{d.value=a.data.map(t=>({label:t.full_name,value:t.id}))}),i.get("config",{params:{names:g}}).then(a=>{Object.assign(e,a.data),e.default_seller=e.default_seller?parseInt(e.default_seller):null}).catch(a=>{}).finally(n.value=!1)})();const b=async function(){n.value=!0,i.post("config",e).then(a=>{f("success",a)}).catch(a=>{}).finally(n.value=!1)};return(a,t)=>{const m=o("a-form-item"),y=o("a-button"),h=o("a-space"),k=o("a-form");return K(),C(k,x({autocomplete:"off"},v,{onFinish:b}),{default:s(()=>[l(m,{name:"email_template_register",label:"Register Email",rules:[{required:!0}]},{default:s(()=>[l(p(c),{url:"email-template/all",valueKey:"id",labelKey:"email_title",value:e.email_template_register,"onUpdate:value":t[0]||(t[0]=r=>e.email_template_register=r)},null,8,["value"])]),_:1}),l(m,{name:"email_template_thankyou",label:"Thank You Email",rules:[{required:!0}]},{default:s(()=>[l(p(c),{url:"email-template/all",valueKey:"id",labelKey:"email_title",value:e.email_template_thankyou,"onUpdate:value":t[1]||(t[1]=r=>e.email_template_thankyou=r)},null,8,["value"])]),_:1}),l(m,null,{default:s(()=>[l(h,null,{default:s(()=>[l(y,{loading:n.value,type:"primary","html-type":"submit"},{default:s(()=>[E("Submit ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},16)}}};export{A as default};
