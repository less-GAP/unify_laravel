import{_ as I}from"./no_image_available.915c4da6.js";import{u as F,e as g,i as p,Y as P,v as R,r,c as f,a,h as t,I as U,F as V,o as s,L as E,m as c,x as $,H as b,X as q,k as _,q as x,b as C,p as h,l as A}from"./index.a683e63c.js";import{D as L}from"./DataTable.1047e308.js";import{U as O}from"./UseEloquentRouter.7e988003.js";import{U as Y}from"./UseDataTable.106f51b0.js";import{_ as z}from"./Detail.vue_vue_type_script_setup_true_lang.08ace4fe.js";import{F as H}from"./FormOutlined.646d2a07.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";/* empty css              */import"./InputUploadGetPath.6754ab8e.js";import"./RemoteSelect.5cb10285.js";const X={class:"flex flex-row items-center"},j=["src","alt"],G={key:1,class:"w-20 h-auto float-left",src:I},J={class:"ml-2 font-semibold"},n="inventory",re={__name:"index",setup(K){const{fetchListApi:D}=O(n),u=F(),y=g(!1),k=g({}),S=Y(D,{columns:[{title:"Type",key:"type",width:80},{title:"Code",key:"code"},{title:"Supplier",key:"supplier"},{title:"Amount",key:"amount",width:100,class:"text-center"},{title:"Date",key:"date",width:100},{title:"Created By",key:"created_by",width:100},{title:"Created at",key:"created_at",width:130}],showSelection:!1,showSort:!1,showReload:!0,addAction:{action:o=>{p.push(n+"/0")},ifShow:u.hasPermission("Inventory.create")},listActions:[],itemActions:[{ifShow:u.hasPermission("Inventory.update"),label:"Edit",key:"edit",action:o=>{p.push(n+"/"+o.id)}},{ifShow:u.hasPermission("Inventory.delete"),label:"",class:"font-medium text-red-600 dark:text-red-500 hover:underline",icon:P,key:"delete",action(o,v){Api.delete(n+"/"+o.id).then(i=>{notification[i.data.code==0?"error":"success"]({message:"Notification",description:i.data.message})}).finally(()=>{v()})}}],selectionActions:[]});let d=()=>{};R(p.currentRoute,o=>{o.path==="/"+n&&d()});function N({reload:o}){d=o}const w=()=>{y.value=!1,d()};return(o,v)=>{const i=r("a-button"),T=r("a-popconfirm"),m=r("a-tag"),B=r("a-drawer");return s(),f(V,null,[a(U,null,{default:t(()=>[a(E,null,{default:t(()=>[a(c(L),$(c(S),{onRegister:N}),{"cellAction[delete]":t(({item:e,actionMethod:l})=>[a(T,{title:"Do you want delete this?","ok-text":"Yes","cancel-text":"No",onConfirm:l},{default:t(()=>[a(i,{type:"text",danger:"",icon:b(c(q)),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])]),"cellAction[edit]":t(({item:e,actionMethod:l})=>[a(i,{type:"text",icon:b(c(H)),label:"",outline:!0,onClick:l},null,8,["icon","onClick"])]),"cell[type]":t(({item:e,column:l})=>[a(m,{class:"capitalize",color:e.type=="in"?"green":"red"},{default:t(()=>[_(x(e.type),1)]),_:2},1032,["color"])]),"cell[supplier]":t(({item:e,column:l})=>[C("div",X,[e.supplier.image_url?(s(),f("img",{key:0,class:"w-20 h-auto float-left",src:e.supplier.image_url,alt:e.supplier.name},null,8,j)):(s(),f("img",G)),C("label",J,x(e.supplier.name),1)])]),"cell[status]":t(({item:e,column:l})=>[e.status=="A"?(s(),h(m,{key:0,color:"green"},{default:t(()=>[_("Active")]),_:1})):A("",!0),e.status=="D"?(s(),h(m,{key:1,color:"green"},{default:t(()=>[_("Inactive")]),_:1})):A("",!0)]),_:1},16)]),_:1})]),_:1}),a(B,{closable:!1,style:{position:"relative",display:"flex","flex-direction":"column",height:"100vh"},onClose:w,open:y.value,width:"80vw",maskClosable:!1},{default:t(()=>[(s(),h(z,{value:k.value,onClose:w,key:k.value.id},null,8,["value"]))]),_:1},8,["open"])],64)}}};export{re as default};
