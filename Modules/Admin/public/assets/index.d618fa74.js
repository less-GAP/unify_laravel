import{a,$ as S,u as V,i as _,v as U,r as p,c as D,h as l,x as R,m as r,F as z,o as $,H as g,X as B}from"./index.a683e63c.js";import{D as E}from"./DataTable.1047e308.js";import{U as F}from"./UseEloquentRouter.7e988003.js";import{U as N}from"./UseDataTable.106f51b0.js";import{F as T}from"./FormOutlined.646d2a07.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";var H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M280 752h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8zm192-280h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v184c0 4.4 3.6 8 8 8zm192 72h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v256c0 4.4 3.6 8 8 8zm216-432H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"project",theme:"outlined"};const q=H;function P(c){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable}))),s.forEach(function(u){I(c,u,n[u])})}return c}function I(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}var k=function(e,n){var s=P({},e,n.attrs);return a(S,P({},s,{icon:q}),null)};k.displayName="ProjectOutlined";k.inheritAttrs=!1;const L=k,w="roles",W={__name:"index",setup(c){const e="/master-data/"+w,{fetchListApi:n,createApi:s,deleteApi:u,updateApi:b}=F(w),m=V(),y=N(n,{columns:[{title:"Name",key:"name"},{title:"Description",key:"description"},{title:"Status",key:"status",width:100},{title:"Created at",key:"created_at",width:200}],listActions:[],itemActions:[{ifShow:m.hasPermission("Role.update"),label:"Edit",key:"edit",class:"!pr-[10px] !pl-[10px]",action:(o,h)=>{_.push(e+"/"+o.id)}},{ifShow:m.hasPermission("Role.permissions"),label:"Permissions",key:"permission",class:"!pr-[10px] !pl-[10px]",action:(o,h)=>{_.push(e+"/"+o.id+"/permissions")}},{ifShow:m.hasPermission("Role.delete"),label:"Delete",key:"delete",class:"!pr-[10px] !pl-[10px] font-medium !text-red-600 !dark:text-red-500 hover:underline",confirm:!0,action(o,h){u(o.id).then(f=>{}).finally(()=>{h()})}}],addAction:{action:o=>{_.push(e+"/new")},ifShow:m.hasPermission("Role.create")}});let v=()=>{};U(_.currentRoute,o=>{o.path===e&&v()});function O({reload:o}){v=o}return(o,h)=>{const f=p("a-button"),C=p("a-popconfirm"),A=p("a-image"),x=p("a-switch"),j=p("router-view");return $(),D(z,null,[a(r(E),R({onRegister:O},r(y)),{"cellAction[delete]":l(({item:t,actionMethod:i})=>[a(C,{title:"B\u1EA1n mu\u1ED1n x\xF3a s\u1EA3n ph\u1EA9m n\xE0y?","ok-text":"Yes","cancel-text":"No",onConfirm:i},{default:l(()=>[a(f,{type:"text",danger:"",icon:g(r(B)),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])]),"cellAction[edit]":l(({item:t,actionMethod:i})=>[a(f,{class:"mr-5",type:"text",icon:g(r(T)),label:"",outline:!0,onClick:i},null,8,["icon","onClick"])]),"cellAction[permission]":l(({item:t,actionMethod:i})=>[a(f,{class:"mr-5",type:"text",icon:g(r(L)),label:"",outline:!0,onClick:i},null,8,["icon","onClick"])]),"cell[image]":l(({item:t,column:i})=>[a(A,{height:"50px",class:"w-20 h-auto",src:t.image,alt:t.name},null,8,["src","alt"])]),"cell[status]":l(({item:t,column:i})=>[a(x,{onChange:d=>r(b)(t.id,{status:t.status}),checkedValue:"active",unCheckedValue:"inactive",checked:t.status,"onUpdate:checked":d=>t.status=d},null,8,["onChange","checked","onUpdate:checked"])]),"cell[is_default]":l(({item:t,column:i})=>[a(x,{onChange:d=>r(b)(t.id,{is_default:t.is_default}),checkedValue:1,unCheckedValue:0,checked:t.is_default,"onUpdate:checked":d=>t.is_default=d},null,8,["onChange","checked","onUpdate:checked"])]),_:1},16),a(j)],64)}}};export{W as default};
