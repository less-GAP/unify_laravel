import{i as o,e as C,v as y,r as i,p as v,h as n,I as R,o as U,a,m as u,x as D,H as d,L as T}from"./index.a683e63c.js";import{D as B}from"./DataTable.1047e308.js";import{U as L}from"./UseEloquentRouter.7e988003.js";import{U as V}from"./UseDataTable.106f51b0.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const j={__name:"index",setup($){const c=o.currentRoute.value.meta.api?o.currentRoute.value.meta.api:o.currentRoute.value.path,{fetchListApi:h,createApi:E,deleteApi:_,updateApi:f}=L(c);C(!1);const k=V(h,{columns:[{title:"H\xECnh \u1EA3nh",key:"image",width:"100px"},{title:"Title",key:"title"},{title:"Lo\u1EA1i",key:"type",width:100},{title:"Publish",key:"status",width:100},{title:"Created at",key:"created_at",width:200}],listActions:[{label:"Add",action:e=>{o.replace(c+"/new")}}],itemActions:[{label:"Edit",action:(e,s)=>{o.replace(c+"/"+e.id)}},{label:"Delete",class:"font-medium text-red-600 dark:text-red-500 hover:underline",action(e,s){_(e.id).then(r=>{}).finally(()=>{s()})}}]});let m=()=>{};y(o.currentRoute,e=>{e.path===c&&m()});function b({reload:e}){m=e}return(e,s)=>{const r=i("a-button"),g=i("a-popconfirm"),x=i("a-image"),w=i("a-switch"),A=i("router-view");return U(),v(R,null,{default:n(()=>[a(T,null,{default:n(()=>[a(u(B),D({onRegister:b},u(k)),{"cellAction[delete]":n(({item:t,actionMethod:l})=>[a(g,{title:"B\u1EA1n mu\u1ED1n x\xF3a s\u1EA3n ph\u1EA9m n\xE0y?","ok-text":"Yes","cancel-text":"No",onConfirm:l},{default:n(()=>[a(r,{type:"text",danger:"",icon:d(e.DeleteOutlined),label:"",outline:!0},null,8,["icon"])]),_:2},1032,["onConfirm"])]),"cellAction[edit]":n(({item:t,actionMethod:l})=>[a(r,{class:"mr-5",type:"text",icon:d(e.FormOutlined),label:"",outline:!0,onClick:l},null,8,["icon","onClick"])]),"cell[image]":n(({item:t,column:l})=>[a(x,{height:"50px",class:"w-20 h-auto",src:t.image_url,alt:t.name},null,8,["src","alt"])]),"cell[status]":n(({item:t,column:l})=>[a(w,{onChange:p=>u(f)(t.id,{status:t.status}),checkedValue:"publish",unCheckedValue:"draft",checked:t.status,"onUpdate:checked":p=>t.status=p},null,8,["onChange","checked","onUpdate:checked"])]),_:1},16)]),_:1}),a(A)]),_:1})}}};export{j as default};
