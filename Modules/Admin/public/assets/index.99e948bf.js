import{_ as M,r as u,o as p,c as b,a as s,b as a,w as E,d as F,e as g,f as L,u as R,A as U,g as V,h as r,t as H,i as W,j as O,k as S,l as q,m as P,F as T,n as G,p as J,q as j}from"./index.a683e63c.js";import{U as Z}from"./UseEloquentRouter.7e988003.js";import{f as K}from"./Patient.e2eb7f50.js";import{l as N}from"./States.8ecfa29a.js";import"https://cdn.jsdelivr.net/npm/surrealdb.js";const Q=()=>{var d=!1;return function(c){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,4)))&&(d=!0)}(navigator.userAgent||navigator.vendor||window.opera),d},X={components:{},data(){return Q()?{canvasHeight:250,canvasWidth:300}:{canvasHeight:500,canvasWidth:600}},mounted(){},methods:{save(d){return this.$refs.signaturePad.save(d)}}},ee={class:"relative w-max"};function ae(d,c,v,m,h,e){const _=u("Vue3Signature");return p(),b("div",ee,[s(_,{class:"border border-gray-300",w:d.canvasWidth+"px",h:d.canvasHeight+"px",ref:"signaturePad"},null,8,["w","h"]),a("a",{href:"javascript:void(0)",onClick:c[0]||(c[0]=E(w=>{var f;return(f=d.$refs.signaturePad)==null?void 0:f.clear()},["prevent"])),class:"absolute z-20 px-2 py-1 text-sm !text-white !bg-gray-400 !border-0 rounded-sm top-2 left-2"}," Clear ")])}const te=M(X,[["render",ae],["__scopeId","data-v-1b152af4"]]),oe={class:"w-full max-h-screen overflow-y-auto uni-main-container"},se={class:"w-full mx-auto"},re={class:""},ne=a("div",{class:"flex items-center justify-center px-3 my-3"},[a("img",{src:O,alt:"Unifymed",class:"block w-28"})],-1),le={class:"grid md:grid-cols-2 md:gap-6"},ie={class:"relative z-0 w-full mb-6 group"},ue={class:"relative z-0 w-full mb-6 group"},de={key:0,class:"relative z-0 w-full mb-6 group"},ce={class:"relative inline-flex items-center mb-4 cursor-pointer",for:"insurance"},pe={class:"relative flex items-center"},be=a("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),me=a("span",{class:"ml-3 text-sm font-medium text-gray-900"},"Do you already have health insurance?",-1),fe={id:"insurance_info",class:"relative hidden w-full"},ge={class:"relative z-0 w-full mb-6 group"},ve=a("label",{class:"block w-full mb-1 text-sm font-medium text-gray-600"},"Choose the insurance plan you have joined:",-1),_e={class:"grid md:grid-cols-3 md:gap-6"},he={class:"relative z-0 w-full mb-6 group"},we={class:"relative z-0 w-full mb-6 group"},ye={class:"relative z-0 w-full mb-6 group"},xe={class:"grid md:grid-cols-2 md:gap-6"},ke={class:"relative z-0 w-full mb-6 group"},ze={class:"relative z-0 w-full mb-6 group"},Ue={class:"grid md:grid-cols-2 md:gap-6"},Se={class:"relative z-0 w-full mb-6 group"},qe={class:"relative z-0 w-full mb-6 group"},Pe={class:"relative z-0 w-full mb-6 group"},je={class:"grid md:grid-cols-2 md:gap-6"},Ne={class:"relative z-0 w-full mb-6 group"},Ce=a("label",{for:"apt",class:"inline-block mb-1 text-sm font-medium text-gray-600"},"Apt",-1),De={class:"relative z-0 w-full mb-6 group"},Ye=a("label",{for:"zip",class:"inline-block mb-1 text-sm font-medium text-gray-600"},"ZIP",-1),$e={class:"grid md:grid-cols-2 md:gap-6"},Ae={class:"relative z-0 w-full mb-6 group"},Be={key:0,class:"relative z-0 w-full mb-6 group"},Ie={class:"relative z-0 w-full mb-3 group"},Me=a("div",{class:"ant-form-item"},[a("div",{class:"ant-col ant-form-item-label"},[a("label",{class:"ant-form-item-required",title:"Signature"},"Signature")])],-1),Ee=a("div",{class:"relative z-0 w-full mb-3 group"},[a("label",{for:"note",class:"text-sm text-gray-500 duration-300 -translate-y-6 -z-10"},"Your request")],-1),Fe={class:"relative z-0 w-full mb-6 group"},Le=a("button",{id:"submitForm",type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"}," Submit ",-1),Re="patient",Ge=F({__name:"index",setup(d){const c=["default_seller"],v=g(),m=g([]),h=[{value:0,label:"Male"},{value:1,label:"Female"}],e=L({}),_=g();function w(){K().then(i=>{m.value=i})}w();const f=i=>{i.target.checked?document.getElementById("insurance_info").classList.remove("hidden"):document.getElementById("insurance_info").classList.add("hidden")},y=R(),x=g();Z(Re),U.get("config",{params:{names:c}}).then(i=>{v.value=i.data.default_seller||0});const C=V(()=>y.user?y.user.id:v.value),D=()=>{e.full_name=e.first_name+" "+e.last_name,e.unify_data="",e.weight!==void 0&&(e.unify_data+="Weight: "+e.weight),e.height!==void 0&&(e.unify_data+=`
Height: `+e.height),e.doctor_name!==void 0&&(e.unify_data+=`
Doctor Name: `+e.doctor_name);var i=[];e.insurance_coverages&&e.insurance_coverages.forEach((t,k)=>{i.push({coverage:t,insurance_id:null,active_date:null,expired_date:null})}),i.length?e.insurance_coverages=JSON.stringify(H(i)):e.insurance_coverages=null,e.unify_process=0,e.sale_user=C.value,e.signature=x.value.save("image/png"),e.log_detail="submit patient form",U.post("submit-patient",{...e}).then(t=>{Object.assign(e,t.data.result),W.replace("thank-you")})};return(i,t)=>{const k=u("a-typography-title"),n=u("a-input"),l=u("a-form-item"),Y=u("a-checkbox-group"),$=u("a-date-picker"),z=u("a-select"),A=u("a-select-option"),B=u("a-textarea"),I=u("a-form");return p(),b("div",oe,[a("div",se,[a("div",re,[s(k,{class:"uni-heading -indent-[9999px] absolute m-0 p-0"},{default:r(()=>[S("Unifymed")]),_:1}),ne]),s(I,{ref_key:"formRef",ref:_,layout:"vertical",model:e,onFinish:D},{default:r(()=>[a("div",le,[a("div",ie,[s(l,{label:"First Name",name:"first_name",rules:[{required:!0,message:"Please enter first name!"}]},{default:r(()=>[s(n,{value:e.first_name,"onUpdate:value":t[0]||(t[0]=o=>e.first_name=o),class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})]),a("div",ue,[s(l,{label:"Last Name",name:"last_name",rules:[{required:!0,message:"Please enter last name!"}]},{default:r(()=>[s(n,{value:e.last_name,"onUpdate:value":t[1]||(t[1]=o=>e.last_name=o),class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})])]),m.value?(p(),b("div",de,[a("label",ce,[a("div",pe,[a("input",{id:"insurance",type:"checkbox",name:"insurance",class:"sr-only peer focus:outline-none",onChange:f},null,32),be]),me]),a("div",fe,[a("div",ge,[ve,s(Y,{value:e.insurance_coverages,"onUpdate:value":t[2]||(t[2]=o=>e.insurance_coverages=o),options:m.value,class:"block"},null,8,["value","options"])])])])):q("",!0),a("div",_e,[a("div",he,[s(l,{label:"Doctor Name"},{default:r(()=>[s(n,{value:e.doctor_name,"onUpdate:value":t[3]||(t[3]=o=>e.doctor_name=o),class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})]),a("div",we,[s(l,{label:"Weight"},{default:r(()=>[s(n,{value:e.weight,"onUpdate:value":t[4]||(t[4]=o=>e.weight=o),class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})]),a("div",ye,[s(l,{label:"Height"},{default:r(()=>[s(n,{value:e.height,"onUpdate:value":t[5]||(t[5]=o=>e.height=o),class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})])]),a("div",xe,[a("div",ke,[s(l,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please enter phone!"}]},{default:r(()=>[s(n,{value:e.phone,"onUpdate:value":t[6]||(t[6]=o=>e.phone=o),class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})]),a("div",ze,[s(l,{label:"Date of Birth",name:"dob",rules:[{required:!0,message:"Please select your date of birth!"}]},{default:r(()=>[s($,{value:e.dob,"onUpdate:value":t[7]||(t[7]=o=>e.dob=o),"input-read-only":"","value-format":"YYYY-MM-DD",format:"MM-DD-YYYY",class:"block date-picker w-full px-0 py-1 text-base font-bold text-gray-900 uppercase !bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"},null,8,["value"])]),_:1})])]),a("div",Ue,[a("div",Se,[s(l,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please enter gender!"}]},{default:r(()=>[s(z,{value:e.gender,"onUpdate:value":t[8]||(t[8]=o=>e.gender=o),class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none",placeholder:"Select your gender",options:h},null,8,["value"])]),_:1})]),a("div",qe,[s(l,{label:"Email",name:"email",rules:[{type:"email",message:"The input is not valid email!"}]},{default:r(()=>[s(n,{value:e.email,"onUpdate:value":t[9]||(t[9]=o=>e.email=o),type:"email",class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})])]),a("div",Pe,[s(l,{label:"Address",name:"street",rules:[{required:!0,message:"Please enter address!"}]},{default:r(()=>[s(n,{id:"street",value:e.street,"onUpdate:value":t[10]||(t[10]=o=>e.street=o),name:"street",class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})]),a("div",je,[a("div",Ne,[Ce,s(n,{id:"apt",value:e.atp,"onUpdate:value":t[11]||(t[11]=o=>e.atp=o),name:"apt",class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),a("div",De,[Ye,s(n,{id:"zip",value:e.zip,"onUpdate:value":t[12]||(t[12]=o=>e.zip=o),name:"zip",class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])])]),a("div",$e,[a("div",Ae,[s(l,{label:"City",name:"city",rules:[{required:!0,message:"Please enter city!"}]},{default:r(()=>[s(n,{id:"city",value:e.city,"onUpdate:value":t[13]||(t[13]=o=>e.city=o),name:"city",class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},null,8,["value"])]),_:1})]),P(N)?(p(),b("div",Be,[s(l,{label:"State",name:"state",rules:[{required:!0,message:"Please select state!"}]},{default:r(()=>[s(z,{id:"s_state",value:e.state,"onUpdate:value":t[14]||(t[14]=o=>e.state=o),"show-search":"",name:"state",placeholder:"Select a state",class:"block w-full px-0 py-1 text-base font-bold text-gray-900 uppercase bg-white border-0 border-b-2 !border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer !shadow-none"},{default:r(()=>[(p(!0),b(T,null,G(P(N),o=>(p(),J(A,{key:o.value,value:o.label},{default:r(()=>[S(j(o.label)+" ("+j(o.value)+") ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})])):q("",!0)]),a("div",Ie,[Me,s(te,{ref_key:"signaturePanel",ref:x},null,512),s(n,{id:"uploadSignature",type:"file",name:"uploadSignature",class:"!hidden"})]),Ee,a("div",Fe,[s(B,{value:e.note,"onUpdate:value":t[15]||(t[15]=o=>e.note=o),class:"!rounded-none !px-2","auto-size":{minRows:2,maxRows:5}},null,8,["value"])]),Le]),_:1},8,["model"])])])}}});export{Ge as default};
